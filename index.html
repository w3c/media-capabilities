<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Media Capabilities</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 3c53a5b02, updated Thu Nov 27 17:03:30 2025 +0000" name="generator">
  <link href="https://www.w3.org/TR/media-capabilities/" rel="canonical">
  <meta content="fb4356139ca0d121c2f86826102f16d2c34450a8" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example " counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="no-ref p-name" id="title">Media Capabilities</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2026-02-10">10 February 2026</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/media-capabilities/">https://w3c.github.io/media-capabilities/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/media-capabilities/">https://www.w3.org/TR/media-capabilities/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/media-capabilities/issues/">GitHub</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor h-card p-author vcard" data-editor-id="115886"><span class="fn p-name">Jean-Yves Avenard</span> (<a class="org p-org" href="https://www.apple.com/">Apple Inc.</a>)
      <dd class="editor h-card p-author vcard" data-editor-id="68454"><a class="fn p-name u-url url" href="https://github.com/markafoltz">Mark Foltz</a> (<a class="org p-org" href="https://www.google.com/">Google Inc.</a>)
      <dt class="editor">Former Editors:
      <dd class="editor h-card p-author vcard" data-editor-id="139598"><span class="fn p-name">Will Cassella</span> (<a class="org p-org" href="https://www.google.com/">Google Inc.</a>)
      <dd class="editor h-card p-author vcard" data-editor-id="45389"><span class="fn p-name">Mounir Lamouri</span> (<a class="org p-org" href="https://www.google.com/">Google Inc.</a>)
      <dd class="editor h-card p-author vcard" data-editor-id="114832"><span class="fn p-name">Chris Cunningham</span> (<a class="org p-org" href="https://www.google.com/">Google Inc.</a>)
      <dd class="editor h-card p-author vcard" data-editor-id="116349"><span class="fn p-name">Vi Nguyen</span> (<a class="org p-org" href="https://www.microsoft.com/">Microsoft Corporation</a>)
      <dt>Participate:
      <dd><a href="https://github.com/w3c/media-capabilities">Git Repository.</a>
      <dd><a href="https://github.com/w3c/media-capabilities/issues/new">File an issue.</a>
      <dt>Version History:
      <dd><a href="https://github.com/w3c/media-capabilities/commits">https://github.com/w3c/media-capabilities/commits</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2026 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="heading no-num no-ref no-toc settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification intends to provide APIs to allow websites to make
an optimal decision when picking media content for the user. The APIs
will expose information about the decoding and encoding capabilities
for a given format but also output capabilities to find the best match
based on the device’s display.</p>
  </div>
  <h2 class="heading no-num no-ref no-toc settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
  <em>This section describes the status of this document at the time of its publication. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> standards and drafts index</a>.</em>
</p>
   <p>
  Feedback and comments on this specification are welcome.
  <a href="https://github.com/w3c/media-capabilities/issues">GitHub Issues</a> are preferred for discussion on this specification. Alternatively, you can send comments to the Media Working Group’s mailing-list, <a href="mailto:public-media-wg@w3.org">public-media-wg@w3.org</a> (<a href="https://lists.w3.org/Archives/Public/public-media-wg/">archives</a>).
  This draft highlights some of the pending issues that are still to be discussed in the working group.
  No decision has been taken on the outcome of these issues including whether they are valid.
</p>
   <p>
  This document was published by the <a href="https://www.w3.org/groups/wg/media/">Media Working Group</a> as an Editor’s Draft.
  This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation.
</p>
   <p>
  Publication as an Editor’s Draft does not imply endorsement by
    <abbr title="World Wide Web Consortium">W3C</abbr> and its Members.
</p>
   <p>
  This document was produced by a group operating under the <a class="css" data-link-type="property" href="https://www.w3.org/policies/patent-policy/" id="sotd_patent">W3C Patent Policy</a>.
  <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/groups/wg/media/ipr" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent that the individual believes contains <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
</p>
   <p>
  This document is governed by the <a href="https://www.w3.org/policies/process/20250818/" id="w3c_process_revision">18 August 2025 W3C Process Document</a>.
</p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-ref no-toc" id="contents">Table of Contents</h2>
   <ol class="toc">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#decoding-encoding-capabilities"><span class="secno">2</span> <span class="content">Decoding and Encoding Capabilities</span></a>
     <ol class="toc">
      <li>
       <a href="#media-configurations"><span class="secno">2.1</span> <span class="content">Media Configurations</span></a>
       <ol class="toc">
        <li><a href="#mediaconfiguration"><span class="secno">2.1.1</span> <span class="content">MediaConfiguration</span></a>
        <li><a href="#mediadecodingtype"><span class="secno">2.1.2</span> <span class="content">MediaDecodingType</span></a>
        <li><a href="#mediaencodingtype"><span class="secno">2.1.3</span> <span class="content">MediaEncodingType</span></a>
        <li><a href="#videoconfiguration"><span class="secno">2.1.4</span> <span class="content">VideoConfiguration</span></a>
        <li><a href="#hdrmetadatatype"><span class="secno">2.1.5</span> <span class="content">HdrMetadataType</span></a>
        <li><a href="#colorgamut"><span class="secno">2.1.6</span> <span class="content">ColorGamut</span></a>
        <li><a href="#transferfunction"><span class="secno">2.1.7</span> <span class="content">TransferFunction</span></a>
        <li><a href="#audioconfiguration"><span class="secno">2.1.8</span> <span class="content">AudioConfiguration</span></a>
        <li><a href="#mediacapabilitieskeysystemconfiguration"><span class="secno">2.1.9</span> <span class="content">
        MediaCapabilitiesKeySystemConfiguration
      </span></a>
        <li><a href="#keysystemtrackconfiguration"><span class="secno">2.1.10</span> <span class="content">
      KeySystemTrackConfiguration
    </span></a>
       </ol>
      <li><a href="#media-capabilities-info"><span class="secno">2.2</span> <span class="content">Media Capabilities Information</span></a>
      <li>
       <a href="#info-algorithms"><span class="secno">2.3</span> <span class="content">Algorithms</span></a>
       <ol class="toc">
        <li><a href="#create-media-capabilities-encoding-info"><span class="secno">2.3.1</span> <span class="content"><span>Create a MediaCapabilitiesEncodingInfo</span></span></a>
        <li><a href="#create-media-capabilities-decoding-info"><span class="secno">2.3.2</span> <span class="content"><span>Create a MediaCapabilitiesDecodingInfo</span></span></a>
        <li><a href="#check-mime-type-validity"><span class="secno">2.3.3</span> <span class="content"><span>Check MIME Type Validity</span></span></a>
        <li><a href="#check-mime-type-support"><span class="secno">2.3.4</span> <span class="content"><span>Check MIME Type Support</span></span></a>
        <li><a href="#is-encrypted-decode-supported"><span class="secno">2.3.5</span> <span class="content"><span>Check Encrypted Decoding Support</span></span></a>
       </ol>
      <li><a href="#navigators-extensions"><span class="secno">2.4</span> <span class="content">Navigator and WorkerNavigator extension</span></a>
      <li>
       <a href="#media-capabilities-interface"><span class="secno">2.5</span> <span class="content">Media Capabilities Interface</span></a>
       <ol class="toc">
        <li><a href="#task-source"><span class="secno">2.5.1</span> <span class="content">Media Capabilities Task Source</span></a>
        <li><a href="#decodinginfo-method"><span class="secno">2.5.2</span> <span class="content">decodingInfo() Method</span></a>
        <li><a href="#encodinginfo-method"><span class="secno">2.5.3</span> <span class="content">encodingInfo() Method</span></a>
       </ol>
     </ol>
    <li>
     <a href="#security-privacy-considerations"><span class="secno">3</span> <span class="content">
    Security and Privacy Considerations
  </span></a>
     <ol class="toc">
      <li><a href="#capabilities-model"><span class="secno">3.1</span> <span class="content">
        Capabilities Model
      </span></a>
      <li><a href="#decoding-encoding-fingerprinting"><span class="secno">3.2</span> <span class="content">
        Decoding/Encoding and Fingerprinting
      </span></a>
     </ol>
    <li>
     <a href="#examples"><span class="secno">4</span> <span class="content">Examples</span></a>
     <ol class="toc">
      <li><a href="#example1"><span class="secno">4.1</span> <span class="content">Query playback capabilities with <code class="idl"><span>decodingInfo()</span></code></span></a>
      <li><a href="#example2"><span class="secno">4.2</span> <span class="content">Query recording capabilities with <code class="idl"><span>encodingInfo()</span></code></span></a>
     </ol>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <section class="non-normative">
    <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
    
  <em>This section is non-normative</em>

  
    <p>
    This specification defines an API to query the user agent with regards
    to its audio and video decoding and encoding capabilities,
    based on information such as the codecs, profile, resolution, bitrates,
    etc., of the media. The API indicates if the configuration is supported
    and whether the playback is expected to be smooth and/or power efficient.
  </p>
    <p>
    This specification focuses on encoding and decoding capabilities.
    It is expected to be used with other web APIs that provide information about
    the display properties, such as supported color gamut or dynamic range capabilities,
    which enable web applications to pick the right content for the display and to,
    for example, avoid providing HDR content to an SDR display.
  </p>
   </section>
   <section>
    <h2 class="heading settled" data-level="2" id="decoding-encoding-capabilities"><span class="secno">2. </span><span class="content">Decoding and Encoding Capabilities</span><a class="self-link" href="#decoding-encoding-capabilities"></a></h2>
    <section>
     <h3 class="heading settled" data-level="2.1" id="media-configurations"><span class="secno">2.1. </span><span class="content">Media Configurations</span><a class="self-link" href="#media-configurations"></a></h3>
     <section>
      <h4 class="heading settled" data-level="2.1.1" id="mediaconfiguration"><span class="secno">2.1.1. </span><span class="content">MediaConfiguration</span><a class="self-link" href="#mediaconfiguration"></a></h4>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediaconfiguration"><code><c- g>MediaConfiguration</c-></code></dfn> {
  <a data-link-type="idl-name" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration"><c- n>VideoConfiguration</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaConfiguration" data-dfn-type="dict-member" data-export data-type="VideoConfiguration" id="dom-mediaconfiguration-video"><code><c- g>video</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-audioconfiguration" id="ref-for-dictdef-audioconfiguration"><c- n>AudioConfiguration</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaConfiguration" data-dfn-type="dict-member" data-export data-type="AudioConfiguration" id="dom-mediaconfiguration-audio"><code><c- g>audio</c-></code></dfn>;
};
</pre>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediadecodingconfiguration"><code><c- g>MediaDecodingConfiguration</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-mediaconfiguration" id="ref-for-dictdef-mediaconfiguration"><c- n>MediaConfiguration</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-mediadecodingtype" id="ref-for-enumdef-mediadecodingtype"><c- n>MediaDecodingType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaDecodingConfiguration" data-dfn-type="dict-member" data-export data-type="MediaDecodingType" id="dom-mediadecodingconfiguration-type"><code><c- g>type</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-mediacapabilitieskeysystemconfiguration" id="ref-for-dictdef-mediacapabilitieskeysystemconfiguration"><c- n>MediaCapabilitiesKeySystemConfiguration</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaDecodingConfiguration" data-dfn-type="dict-member" data-export data-type="MediaCapabilitiesKeySystemConfiguration" id="dom-mediadecodingconfiguration-keysystemconfiguration"><code><c- g>keySystemConfiguration</c-></code></dfn>;
};
</pre>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediaencodingconfiguration"><code><c- g>MediaEncodingConfiguration</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-mediaconfiguration" id="ref-for-dictdef-mediaconfiguration①"><c- n>MediaConfiguration</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-mediaencodingtype" id="ref-for-enumdef-mediaencodingtype"><c- n>MediaEncodingType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaEncodingConfiguration" data-dfn-type="dict-member" data-export data-type="MediaEncodingType" id="dom-mediaencodingconfiguration-type"><code><c- g>type</c-></code></dfn>;
};
</pre>
      <p>
        The input to the decoding capabilities is represented by a
        <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration">MediaDecodingConfiguration</a></code> dictionary and the input to the encoding
        capabilities by a <code class="idl"><a data-link-type="idl" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration">MediaEncodingConfiguration</a></code> dictionary.
      </p>
      <p>
        For a <code class="idl"><a data-link-type="idl" href="#dictdef-mediaconfiguration" id="ref-for-dictdef-mediaconfiguration②">MediaConfiguration</a></code> to be a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="valid MediaConfiguration" data-noexport id="valid-mediaconfiguration">valid
        MediaConfiguration</dfn>, all of the following conditions MUST be true:
      </p>
      <ol>
       <li>
          <code>audio</code> and/or <code>video</code> MUST <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a>.
        
       <li>
          <code>audio</code> MUST be a <a data-link-type="dfn" href="#valid-audio-configuration" id="ref-for-valid-audio-configuration">valid audio configuration</a> if
          it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>.
        
       <li>
          <code>video</code> MUST be a <a data-link-type="dfn" href="#valid-video-configuration" id="ref-for-valid-video-configuration">valid video configuration</a> if
          it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>.
        
      </ol>
      <p>
        For a <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration①">MediaDecodingConfiguration</a></code> to be a <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="valid MediaDecodingConfiguration" data-noexport id="valid-mediadecodingconfiguration">valid
        MediaDecodingConfiguration</dfn>, all of the following conditions MUST
        be true:
      </p>
      <ol>
       <li>
          It MUST be a <a data-link-type="dfn" href="#valid-mediaconfiguration" id="ref-for-valid-mediaconfiguration">valid MediaConfiguration</a>.
        
       <li>
        
          If <code>keySystemConfiguration</code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>:
          
        <ol>
         <li>
              The <code>type</code> MUST be <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source">media-source</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file">file</a></code>.
            
         <li>
              If <code>keySystemConfiguration.audio</code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a>,
              <code>audio</code> MUST also <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exist</a>.
            
         <li>
              If <code>keySystemConfiguration.video</code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exists</a>,
              <code>video</code> MUST also <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exist</a>.
            
        </ol>
      </ol>
      <p>
        For a <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration②">MediaDecodingConfiguration</a></code> to describe <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>, a
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingconfiguration-keysystemconfiguration" id="ref-for-dom-mediadecodingconfiguration-keysystemconfiguration">keySystemConfiguration</a></code> MUST <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exist</a>.
      </p>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.2" id="mediadecodingtype"><span class="secno">2.1.2. </span><span class="content">MediaDecodingType</span><a class="self-link" href="#mediadecodingtype"></a></h4>
<pre class="def highlight idl"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-mediadecodingtype"><code><c- g>MediaDecodingType</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file①"><c- s>"file"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source①"><c- s>"media-source"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc"><c- s>"webrtc"</c-></a>
};
</pre>
      <p>
        A <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration③">MediaDecodingConfiguration</a></code> has three types:
      </p>
      <ul>
       <li><dfn class="dfn-paneled idl-code" data-dfn-for="MediaDecodingType" data-dfn-type="enum-value" data-export data-lt="&quot;file&quot;|file" id="dom-mediadecodingtype-file"><code>file</code></dfn> is used to
        represent a configuration that is meant to be used for playback of
        media sources other than <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/media-source/#mediasource" id="ref-for-mediasource">MediaSource</a></code> as defined in
        <a data-link-type="biblio" href="#biblio-media-source" title="Media Source Extensions™">[media-source]</a> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection">RTCPeerConnection</a></code> as defined in <a data-link-type="biblio" href="#biblio-webrtc" title="WebRTC: Real-Time Communication in Browsers">[webrtc]</a>. 
       <li><dfn class="dfn-paneled idl-code" data-dfn-for="MediaDecodingType" data-dfn-type="enum-value" data-export data-lt="&quot;media-source&quot;|media-source" id="dom-mediadecodingtype-media-source"><code>media-source</code></dfn> is used
        to represent a configuration that is meant to be used for playback of
        a <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/media-source/#mediasource" id="ref-for-mediasource①">MediaSource</a></code>. 
       <li><dfn class="dfn-paneled idl-code" data-dfn-for="MediaDecodingType" data-dfn-type="enum-value" data-export data-lt="&quot;webrtc&quot;|webrtc" id="dom-mediadecodingtype-webrtc"><code>webrtc</code></dfn> is used to
        represent a configuration that is meant to be received using
        <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection①">RTCPeerConnection</a></code>.
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.3" id="mediaencodingtype"><span class="secno">2.1.3. </span><span class="content">MediaEncodingType</span><a class="self-link" href="#mediaencodingtype"></a></h4>
<pre class="def highlight idl"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-mediaencodingtype"><code><c- g>MediaEncodingType</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediaencodingtype-record" id="ref-for-dom-mediaencodingtype-record"><c- s>"record"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediaencodingtype-webrtc" id="ref-for-dom-mediaencodingtype-webrtc"><c- s>"webrtc"</c-></a>
};
</pre>
      <p>
        A <code class="idl"><a data-link-type="idl" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration①">MediaEncodingConfiguration</a></code> can have one of two types:
      </p>
      <ul>
       <li><dfn class="dfn-paneled idl-code" data-dfn-for="MediaEncodingType" data-dfn-type="enum-value" data-export data-lt="&quot;record&quot;|record" id="dom-mediaencodingtype-record"><code>record</code></dfn> is used to
        represent a configuration for recording of media,
        <span class="informative">e.g., using <code class="idl"><a data-link-type="idl" href="https://www.w3.org/TR/mediastream-recording/#mediarecorder" id="ref-for-mediarecorder">MediaRecorder</a></code> as defined in
        <a data-link-type="biblio" href="#biblio-mediastream-recording" title="MediaStream Recording">[mediastream-recording]</a></span>.
       <li><dfn class="dfn-paneled idl-code" data-dfn-for="MediaEncodingType" data-dfn-type="enum-value" data-export data-lt="&quot;webrtc&quot;|webrtc" id="dom-mediaencodingtype-webrtc"><code>webrtc</code></dfn> is used to
        represent a configuration that is meant to be transmitted using
        <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection" id="ref-for-dom-rtcpeerconnection②">RTCPeerConnection</a></code> as defined in <a data-link-type="biblio" href="#biblio-webrtc" title="WebRTC: Real-Time Communication in Browsers">[webrtc]</a>).
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.4" id="videoconfiguration"><span class="secno">2.1.4. </span><span class="content">VideoConfiguration</span><a class="self-link" href="#videoconfiguration"></a></h4>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-videoconfiguration"><code><c- g>VideoConfiguration</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-videoconfiguration-contenttype" id="ref-for-dom-videoconfiguration-contenttype"><c- g>contentType</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-videoconfiguration-width" id="ref-for-dom-videoconfiguration-width"><c- g>width</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-videoconfiguration-height" id="ref-for-dom-videoconfiguration-height"><c- g>height</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-videoconfiguration-bitrate" id="ref-for-dom-videoconfiguration-bitrate"><c- g>bitrate</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="double" href="#dom-videoconfiguration-framerate" id="ref-for-dom-videoconfiguration-framerate"><c- g>framerate</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-videoconfiguration-hasalphachannel" id="ref-for-dom-videoconfiguration-hasalphachannel"><c- g>hasAlphaChannel</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-hdrmetadatatype" id="ref-for-enumdef-hdrmetadatatype"><c- n>HdrMetadataType</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="HdrMetadataType" href="#dom-videoconfiguration-hdrmetadatatype" id="ref-for-dom-videoconfiguration-hdrmetadatatype"><c- g>hdrMetadataType</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-colorgamut" id="ref-for-enumdef-colorgamut"><c- n>ColorGamut</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ColorGamut" href="#dom-videoconfiguration-colorgamut" id="ref-for-dom-videoconfiguration-colorgamut"><c- g>colorGamut</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-transferfunction" id="ref-for-enumdef-transferfunction"><c- n>TransferFunction</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransferFunction" href="#dom-videoconfiguration-transferfunction" id="ref-for-dom-videoconfiguration-transferfunction"><c- g>transferFunction</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-videoconfiguration-scalabilitymode" id="ref-for-dom-videoconfiguration-scalabilitymode"><c- g>scalabilityMode</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-videoconfiguration-spatialscalability" id="ref-for-dom-videoconfiguration-spatialscalability"><c- g>spatialScalability</c-></a>;
};
</pre>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-contenttype"><code>contentType</code></dfn> member
        represents the <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type">MIME type</a> of the video track.
      </p>
      <p>
        To check if a <code class="idl"><a data-link-type="idl" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration①">VideoConfiguration</a></code> <var>configuration</var> is a
        <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="valid-video-configuration">valid video configuration</dfn>, the following steps MUST be run:
      </p>
      <ol>
       <li>
          If <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-framerate" id="ref-for-dom-videoconfiguration-framerate①">framerate</a></code> is not finite or is not greater
          than 0, return <code>false</code> and abort these steps.
        
       <li>
          If an optional member is specified for a <code class="idl"><a data-link-type="idl" href="#enumdef-mediadecodingtype" id="ref-for-enumdef-mediadecodingtype①">MediaDecodingType</a></code> or
          <code class="idl"><a data-link-type="idl" href="#enumdef-mediaencodingtype" id="ref-for-enumdef-mediaencodingtype①">MediaEncodingType</a></code> to which it’s not applicable, return
          <code>false</code> and abort these steps. See applicability rules
          in the member definitions below.
        
       <li>
          Let <var>mimeType</var> be the result of running <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type">parse a MIME type</a>
          with <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-contenttype" id="ref-for-dom-videoconfiguration-contenttype①">contentType</a></code>.
        
       <li>
          If <var>mimeType</var> is <code>failure</code>, return <code>false</code>.
        
       <li>
          Return the result of running <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-validity" id="ref-for-abstract-opdef-check-mime-type-validity">check MIME type validity</a> with
          <var>mimeType</var> and <code>video</code>.
        
      </ol>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-width"><code>width</code></dfn> and
        <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-height"><code>height</code></dfn> members represent
        respectively the visible horizontal and vertical encoded pixels in the
        encoded video frames.
      </p>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-bitrate"><code>bitrate</code></dfn> member represents
        the bitrate of the video track given in units of bits per second.  In
        the case of a video stream encoded at a constant bit rate (<abbr title="constant bit rate">CBR</abbr>) this shall represent the average
        bitrate of the video track.  For the case of variable bit rate (<abbr title="variable bit rate">VBR</abbr>) encoding, this value shall
        represent the maximum bitrate of the video track.
     </p>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-framerate"><code>framerate</code></dfn> member
        represents the framerate of the video track. The framerate is the number
        of frames used in one second (frames per second). It is represented as a
        double.  In the case of a video stream with a variable framerate, this
        represents the maximum framerate of the stream.
      </p>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-hasalphachannel"><code>hasAlphaChannel</code></dfn> member
        represents whether the video track contains alpha channel information. If
        true, the encoded video stream can produce per-pixel alpha channel information
        when decoded. If false, the video stream cannot produce per-pixel alpha channel
        information when decoded. If undefined, the UA should determine whether the
        video stream encodes alpha channel information based on the indicated
        <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-contenttype" id="ref-for-dom-videoconfiguration-contenttype②">contentType</a></code>, if possible. Otherwise, the UA should
        presume that the video stream cannot produce alpha channel information.
      </p>
      <p>
        If present, the <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-hdrmetadatatype"><code>hdrMetadataType</code></dfn>
        member represents that the video track includes the specified HDR
        metadata type, which the UA needs to be capable of interpreting for tone
        mapping the HDR content to a color volume and luminance of the output
        device. Valid inputs are defined by <code class="idl"><a data-link-type="idl" href="#enumdef-hdrmetadatatype" id="ref-for-enumdef-hdrmetadatatype①">HdrMetadataType</a></code>. hdrMetadataType is
        only applicable to <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration④">MediaDecodingConfiguration</a></code> for types <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source②">media-source</a></code>
        and <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file②">file</a></code>.
      </p>
      <p>
        If present, the <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-colorgamut"><code>colorGamut</code></dfn>
        member represents that the video track is delivered in the specified
        color gamut, which describes a set of colors in which the content is
        intended to be displayed. If the attached output device also supports
        the specified color, the UA needs to be able to cause the output device
        to render the appropriate color, or something close enough. If the
        attached output device does not support the specified color, the UA
        needs to be capable of mapping the specified color to a color supported
        by the output device. Valid inputs are defined by <code class="idl"><a data-link-type="idl" href="#enumdef-colorgamut" id="ref-for-enumdef-colorgamut①">ColorGamut</a></code>. colorGamut
        is only applicable to <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration⑤">MediaDecodingConfiguration</a></code> for types
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source③">media-source</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file③">file</a></code>.
      </p>
      <p>
        If present, the <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-transferfunction"><code>transferFunction</code></dfn>
        member represents that the video track requires the specified transfer
        function to be understood by the UA. Transfer function describes the
        electro-optical algorithm supported by the rendering capabilities of a
        user agent, independent of the display, to map the source colors in the
        decoded media into the colors to be displayed. Valid inputs are defined
        by <code class="idl"><a data-link-type="idl" href="#enumdef-transferfunction" id="ref-for-enumdef-transferfunction①">TransferFunction</a></code>. transferFunction is only applicable to
        <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration⑥">MediaDecodingConfiguration</a></code> for types <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source④">media-source</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file④">file</a></code>.
      </p>
      <p>
        If present, the <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-scalabilitymode"><code>scalabilityMode</code></dfn>
        member represents the scalability mode as defined in <a data-link-type="biblio" href="#biblio-webrtc-svc" title="Scalable Video Coding (SVC) Extension for WebRTC">[webrtc-svc]</a>. If
        absent, the implementer defined default mode for this
        <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-contenttype" id="ref-for-dom-videoconfiguration-contenttype③">contentType</a></code> is assumed (i.e., the mode you get if
        you don’t specify one via <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters" id="ref-for-dom-rtcrtpsender-setparameters">setParameters()</a></code>).
        scalabilityMode is only applicable to <code class="idl"><a data-link-type="idl" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration②">MediaEncodingConfiguration</a></code> for
        type <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingtype-webrtc" id="ref-for-dom-mediaencodingtype-webrtc①">webrtc</a></code>.
      </p>
      <p>
        If the <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-scalabilitymode" id="ref-for-dom-videoconfiguration-scalabilitymode①">scalabilityMode</a></code> indicates that there are multiple spatial layers,
        the <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-width" id="ref-for-dom-videoconfiguration-width①">width</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-height" id="ref-for-dom-videoconfiguration-height①">height</a></code> values in <code class="idl"><a data-link-type="idl" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration②">VideoConfiguration</a></code>
        correspond to the largest spatial layer that is encoded.
      </p>
      <p>
        If present, the <dfn class="dfn-paneled idl-code" data-dfn-for="VideoConfiguration" data-dfn-type="dict-member" data-export id="dom-videoconfiguration-spatialscalability"><code>spatialScalability</code></dfn>
        member represents the ability to do spatial prediction, that is,
        using frames of a resolution different than the current resolution as
        dependencies. If absent, <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-spatialscalability" id="ref-for-dom-videoconfiguration-spatialscalability①">spatialScalability</a></code> defaults to
        <code>false</code>. If <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-spatialscalability" id="ref-for-dom-videoconfiguration-spatialscalability②">spatialScalability</a></code> is set to <code>true</code>,
        the decoder can decode any <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-scalabilitymode" id="ref-for-dom-videoconfiguration-scalabilitymode②">scalabilityMode</a></code> 
        that the encoder can encode for the configured codec. If <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-spatialscalability" id="ref-for-dom-videoconfiguration-spatialscalability③">spatialScalability</a></code>
        is set to <code>false</code>, the decoder cannot decode spatial scalability
        modes, but can decode all other <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-scalabilitymode" id="ref-for-dom-videoconfiguration-scalabilitymode③">scalabilityMode</a></code> values
        that the encoder can encode for the configured codec. <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-spatialscalability" id="ref-for-dom-videoconfiguration-spatialscalability④">spatialScalability</a></code> is only
        applicable to <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration⑦">MediaDecodingConfiguration</a></code> for types <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source⑤">media-source</a></code>,
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file⑤">file</a></code>, and <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc①">webrtc</a></code>.
      </p>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.5" id="hdrmetadatatype"><span class="secno">2.1.5. </span><span class="content">HdrMetadataType</span><a class="self-link" href="#hdrmetadatatype"></a></h4>
<pre class="def highlight idl"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-hdrmetadatatype"><code><c- g>HdrMetadataType</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-hdrmetadatatype-smptest2086" id="ref-for-dom-hdrmetadatatype-smptest2086"><c- s>"smpteSt2086"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-hdrmetadatatype-smptest2094-10" id="ref-for-dom-hdrmetadatatype-smptest2094-10"><c- s>"smpteSt2094-10"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-hdrmetadatatype-smptest2094-40" id="ref-for-dom-hdrmetadatatype-smptest2094-40"><c- s>"smpteSt2094-40"</c-></a>
};
</pre>
      <p>
        If present, <code class="idl"><a data-link-type="idl" href="#enumdef-hdrmetadatatype" id="ref-for-enumdef-hdrmetadatatype②">HdrMetadataType</a></code> describes the capability to interpret HDR metadata
        of the specified type.
      </p>
      <p>
        The <code class="idl"><a data-link-type="idl" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration③">VideoConfiguration</a></code> may contain one of the following types:
      </p>
      <ul>
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="HdrMetadataType" data-dfn-type="enum-value" data-export data-lt="&quot;smpteSt2086&quot;|smpteSt2086" id="dom-hdrmetadatatype-smptest2086"><code>smpteSt2086</code></dfn>,
          representing the static metadata type defined by
          <a data-link-type="biblio" href="#biblio-smpte-st-2086" title="Mastering Display Color Volume Metadata Supporting High Luminance and Wide Color Gamut Images">[SMPTE-ST-2086]</a>.
        
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="HdrMetadataType" data-dfn-type="enum-value" data-export data-lt="&quot;smpteSt2094-10&quot;|smpteSt2094-10" id="dom-hdrmetadatatype-smptest2094-10"><code>smpteSt2094-10</code></dfn>,
          representing the dynamic metadata type defined by
          <a data-link-type="biblio" href="#biblio-smpte-st-2094" title="Dynamic Metadata for Color Volume Transform Core Components">[SMPTE-ST-2094]</a>.
        
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="HdrMetadataType" data-dfn-type="enum-value" data-export data-lt="&quot;smpteSt2094-40&quot;|smpteSt2094-40" id="dom-hdrmetadatatype-smptest2094-40"><code>smpteSt2094-40</code></dfn>,
          representing the dynamic metadata type defined by
          <a data-link-type="biblio" href="#biblio-smpte-st-2094" title="Dynamic Metadata for Color Volume Transform Core Components">[SMPTE-ST-2094]</a>.
        
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.6" id="colorgamut"><span class="secno">2.1.6. </span><span class="content">ColorGamut</span><a class="self-link" href="#colorgamut"></a></h4>
<pre class="def highlight idl"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-colorgamut"><code><c- g>ColorGamut</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-colorgamut-srgb" id="ref-for-dom-colorgamut-srgb"><c- s>"srgb"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-colorgamut-p3" id="ref-for-dom-colorgamut-p3"><c- s>"p3"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-colorgamut-rec2020" id="ref-for-dom-colorgamut-rec2020"><c- s>"rec2020"</c-></a>
};
</pre>
      <p>
        The <code class="idl"><a data-link-type="idl" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration④">VideoConfiguration</a></code> may contain one of the following types:
      </p>
      <ul>
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="ColorGamut" data-dfn-type="enum-value" data-export data-lt="&quot;srgb&quot;|srgb" id="dom-colorgamut-srgb"><code>srgb</code></dfn>, representing the
          <a data-link-type="biblio" href="#biblio-srgb" title="Multimedia systems and equipment - Colour measurement and management - Part 2-1: Colour management - Default RGB colour space - sRGB">[sRGB]</a> color gamut.
        
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="ColorGamut" data-dfn-type="enum-value" data-export data-lt="&quot;p3&quot;|p3" id="dom-colorgamut-p3"><code>p3</code></dfn>, representing the DCI
          P3 Color Space color gamut. This color gamut includes the
          <code class="idl"><a data-link-type="idl" href="#dom-colorgamut-srgb" id="ref-for-dom-colorgamut-srgb①">srgb</a></code> gamut.
        
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="ColorGamut" data-dfn-type="enum-value" data-export data-lt="&quot;rec2020&quot;|rec2020" id="dom-colorgamut-rec2020"><code>rec2020</code></dfn>, representing
          the ITU-R Recommendation BT.2020 color gamut. This color gamut
          includes the <code class="idl"><a data-link-type="idl" href="#dom-colorgamut-p3" id="ref-for-dom-colorgamut-p3①">p3</a></code> gamut.
        
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.7" id="transferfunction"><span class="secno">2.1.7. </span><span class="content">TransferFunction</span><a class="self-link" href="#transferfunction"></a></h4>
<pre class="def highlight idl"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-transferfunction"><code><c- g>TransferFunction</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-transferfunction-srgb" id="ref-for-dom-transferfunction-srgb"><c- s>"srgb"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-transferfunction-pq" id="ref-for-dom-transferfunction-pq"><c- s>"pq"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-transferfunction-hlg" id="ref-for-dom-transferfunction-hlg"><c- s>"hlg"</c-></a>
};
</pre>
      <p>
        The <code class="idl"><a data-link-type="idl" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration⑤">VideoConfiguration</a></code> may contain one of the following types:
      </p>
      <ul>
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="TransferFunction" data-dfn-type="enum-value" data-export data-lt="&quot;srgb&quot;|srgb" id="dom-transferfunction-srgb"><code>srgb</code></dfn>, representing
          the transfer function defined by <a data-link-type="biblio" href="#biblio-srgb" title="Multimedia systems and equipment - Colour measurement and management - Part 2-1: Colour management - Default RGB colour space - sRGB">[sRGB]</a>.
        
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="TransferFunction" data-dfn-type="enum-value" data-export data-lt="&quot;pq&quot;|pq" id="dom-transferfunction-pq"><code>pq</code></dfn>, representing the
          "Perceptual Quantizer" transfer function defined by
          <a data-link-type="biblio" href="#biblio-smpte-st-2084" title="High Dynamic Range Electro-Optical Transfer Function of Mastering Reference Displays">[SMPTE-ST-2084]</a>.
        
       <li>
          <dfn class="dfn-paneled idl-code" data-dfn-for="TransferFunction" data-dfn-type="enum-value" data-export data-lt="&quot;hlg&quot;|hlg" id="dom-transferfunction-hlg"><code>hlg</code></dfn>, representing the
          "Hybrid Log Gamma" transfer function defined by BT.2100.
        
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.8" id="audioconfiguration"><span class="secno">2.1.8. </span><span class="content">AudioConfiguration</span><a class="self-link" href="#audioconfiguration"></a></h4>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-audioconfiguration"><code><c- g>AudioConfiguration</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-audioconfiguration-contenttype" id="ref-for-dom-audioconfiguration-contenttype"><c- g>contentType</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-audioconfiguration-channels" id="ref-for-dom-audioconfiguration-channels"><c- g>channels</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long" id="ref-for-idl-unsigned-long-long①"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-audioconfiguration-bitrate" id="ref-for-dom-audioconfiguration-bitrate"><c- g>bitrate</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-audioconfiguration-samplerate" id="ref-for-dom-audioconfiguration-samplerate"><c- g>samplerate</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-audioconfiguration-spatialrendering" id="ref-for-dom-audioconfiguration-spatialrendering"><c- g>spatialRendering</c-></a>;
};
</pre>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="AudioConfiguration" data-dfn-type="dict-member" data-export id="dom-audioconfiguration-contenttype"><code>contentType</code></dfn> member
        represents the <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type①">MIME type</a> of the audio track.
      </p>
      <p>
        To check if a <code class="idl"><a data-link-type="idl" href="#dictdef-audioconfiguration" id="ref-for-dictdef-audioconfiguration①">AudioConfiguration</a></code> <var>configuration</var> is a
        <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="valid-audio-configuration">valid audio configuration</dfn>, the following steps MUST be run:
      </p>
      <ol>
       <li>
          Let <var>mimeType</var> be the result of running <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type①">parse a MIME type</a>
          with <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-contenttype" id="ref-for-dom-audioconfiguration-contenttype①">contentType</a></code>.
        
       <li>
          If <var>mimeType</var> is <code>failure</code>, return <code>false</code>.
        
       <li>
          Return the result of running <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-validity" id="ref-for-abstract-opdef-check-mime-type-validity①">check MIME type validity</a> with
          <var>mimeType</var> and <code>audio</code>.
        
      </ol>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="AudioConfiguration" data-dfn-type="dict-member" data-export id="dom-audioconfiguration-channels"><code>channels</code></dfn> member
        represents the audio channels used by the audio track. channels is only
        applicable to the decoding types <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source⑥">media-source</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file⑥">file</a></code>, and
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc②">webrtc</a></code> and the encoding type
        <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingtype-webrtc" id="ref-for-dom-mediaencodingtype-webrtc②">webrtc</a></code>.
      </p>
      <p class="issue" id="issue-a7738173"><a class="self-link" href="#issue-a7738173"></a>
        The <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-channels" id="ref-for-dom-audioconfiguration-channels①">channels</a></code> needs to be defined as a
        <code>double</code> (2.1, 4.1, 5.1, ...), an <code>unsigned short</code>
        (number of channels) or as an <code>enum</code> value. The current
        definition is a placeholder.
      </p>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="AudioConfiguration" data-dfn-type="dict-member" data-export id="dom-audioconfiguration-bitrate"><code>bitrate</code></dfn> member
        represents the average bitrate of the audio track. The bitrate
        is the number of bits used to encode a second of the audio track.
      </p>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="AudioConfiguration" data-dfn-type="dict-member" data-export id="dom-audioconfiguration-samplerate"><code>samplerate</code></dfn>
        member represents the sample rate of the audio track. The sample rate
        is the number of samples of audio carried per second. samplerate is only
        applicable to the decoding types <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source⑦">media-source</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file⑦">file</a></code>, and
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc③">webrtc</a></code> and the encoding type
        <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingtype-webrtc" id="ref-for-dom-mediaencodingtype-webrtc③">webrtc</a></code>.
      </p>
      <p class="note" role="note">
        The <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-samplerate" id="ref-for-dom-audioconfiguration-samplerate①">samplerate</a></code> is expressed in <code>Hz</code>
        (ie. number of samples of audio per second). Sometimes the samplerates
        value are expressed in <code>kHz</code> which represents the number of
        thousands of samples of audio per second.<br>
        44100 <code>Hz</code> is equivalent to 44.1 <code>kHz</code>.
      </p>
      <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="AudioConfiguration" data-dfn-type="dict-member" data-export id="dom-audioconfiguration-spatialrendering"><code>spatialRendering</code></dfn>
        member indicates that the audio SHOULD be rendered spatially. The
        details of spatial rendering SHOULD be inferred from the
        <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-contenttype" id="ref-for-dom-audioconfiguration-contenttype②">contentType</a></code>. If it does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exist</a>, the UA
        MUST presume spatial rendering is not required. When <code>true</code>,
        the user agent SHOULD only report this configuration as
        <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported">supported</a></code> if it can support spatial
        rendering for the current audio output device without failing back to a
        non-spatial mix of the stream. <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-spatialrendering" id="ref-for-dom-audioconfiguration-spatialrendering①">spatialRendering</a></code> is only applicable to
        <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration⑧">MediaDecodingConfiguration</a></code> for types <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source⑧">media-source</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file⑧">file</a></code>.
      </p>
     </section>
    </section>
    <section>
     <h4 class="heading settled" data-level="2.1.9" id="mediacapabilitieskeysystemconfiguration"><span class="secno">2.1.9. </span><span class="content">
        MediaCapabilitiesKeySystemConfiguration
      </span><a class="self-link" href="#mediacapabilitieskeysystemconfiguration"></a></h4>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediacapabilitieskeysystemconfiguration"><code><c- g>MediaCapabilitiesKeySystemConfiguration</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-mediacapabilitieskeysystemconfiguration-keysystem" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-keysystem"><c- g>keySystem</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString" href="#dom-mediacapabilitieskeysystemconfiguration-initdatatype" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-initdatatype"><c- g>initDataType</c-></a> = "";
  <a data-link-type="idl-name" href="https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement" id="ref-for-dom-mediakeysrequirement"><c- n>MediaKeysRequirement</c-></a> <a class="idl-code" data-default="&quot;optional&quot;" data-link-type="dict-member" data-type="MediaKeysRequirement" href="#dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier"><c- g>distinctiveIdentifier</c-></a> = "optional";
  <a data-link-type="idl-name" href="https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement" id="ref-for-dom-mediakeysrequirement①"><c- n>MediaKeysRequirement</c-></a> <a class="idl-code" data-default="&quot;optional&quot;" data-link-type="dict-member" data-type="MediaKeysRequirement" href="#dom-mediacapabilitieskeysystemconfiguration-persistentstate" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-persistentstate"><c- g>persistentState</c-></a> = "optional";
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<DOMString>" href="#dom-mediacapabilitieskeysystemconfiguration-sessiontypes" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-sessiontypes"><c- g>sessionTypes</c-></a>;
  <a data-link-type="idl-name" href="#dictdef-keysystemtrackconfiguration" id="ref-for-dictdef-keysystemtrackconfiguration"><c- n>KeySystemTrackConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="KeySystemTrackConfiguration" href="#dom-mediacapabilitieskeysystemconfiguration-audio" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-audio"><c- g>audio</c-></a>;
  <a data-link-type="idl-name" href="#dictdef-keysystemtrackconfiguration" id="ref-for-dictdef-keysystemtrackconfiguration①"><c- n>KeySystemTrackConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="KeySystemTrackConfiguration" href="#dom-mediacapabilitieskeysystemconfiguration-video" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-video"><c- g>video</c-></a>;
};
</pre>
     <p class="note" role="note">
        This dictionary refers to a number of types defined by
        <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a> (EME). Sequences of EME types are
        flattened to a single value whenever the intent of the sequence was to
        have <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-navigator-requestmediakeysystemaccess" id="ref-for-dom-navigator-requestmediakeysystemaccess">requestMediaKeySystemAccess()</a></code> choose a subset it supports.
        With MediaCapabilities, callers provide the sequence across multiple
        calls, ultimately letting the caller choose which configuration to use.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-keysystem"><code>keySystem</code></dfn>
        member represents a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess-keysystem" id="ref-for-dom-mediakeysystemaccess-keysystem">keySystem</a></code> name as described in
        <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-initdatatype"><code>initDataType</code></dfn>
        member represents a single value from the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-initdatatypes" id="ref-for-dom-mediakeysystemconfiguration-initdatatypes">initDataTypes</a></code> sequence
        described in <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier"><code>distinctiveIdentifier</code></dfn>
        member represents a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-distinctiveidentifier" id="ref-for-dom-mediakeysystemconfiguration-distinctiveidentifier">distinctiveIdentifier</a></code> requirement as
        described in <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-persistentstate"><code>persistentState</code></dfn>
        member represents a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-persistentstate" id="ref-for-dom-mediakeysystemconfiguration-persistentstate">persistentState</a></code> requirement as described in
        <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-sessiontypes"><code>sessionTypes</code></dfn>
        member represents a sequence of required <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-sessiontypes" id="ref-for-dom-mediakeysystemconfiguration-sessiontypes">sessionTypes</a></code> as
        described in <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-audio"><code>audio</code></dfn> member
        represents a <code class="idl"><a data-link-type="idl" href="#dictdef-keysystemtrackconfiguration" id="ref-for-dictdef-keysystemtrackconfiguration②">KeySystemTrackConfiguration</a></code> associated with the <code class="idl"><a data-link-type="idl" href="#dictdef-audioconfiguration" id="ref-for-dictdef-audioconfiguration②">AudioConfiguration</a></code>.
      </p>
     <p>
        The <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesKeySystemConfiguration" data-dfn-type="dict-member" data-export id="dom-mediacapabilitieskeysystemconfiguration-video"><code>video</code></dfn> member
        represents a <code class="idl"><a data-link-type="idl" href="#dictdef-keysystemtrackconfiguration" id="ref-for-dictdef-keysystemtrackconfiguration③">KeySystemTrackConfiguration</a></code> associated with the <code class="idl"><a data-link-type="idl" href="#dictdef-videoconfiguration" id="ref-for-dictdef-videoconfiguration⑥">VideoConfiguration</a></code>.
      </p>
    </section>
    <section>
     <h4 class="heading settled" data-level="2.1.10" id="keysystemtrackconfiguration"><span class="secno">2.1.10. </span><span class="content">
      KeySystemTrackConfiguration
    </span><a class="self-link" href="#keysystemtrackconfiguration"></a></h4>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-keysystemtrackconfiguration"><code><c- g>KeySystemTrackConfiguration</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString" href="#dom-keysystemtrackconfiguration-robustness" id="ref-for-dom-keysystemtrackconfiguration-robustness"><c- g>robustness</c-></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a>? <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="DOMString?" href="#dom-keysystemtrackconfiguration-encryptionscheme" id="ref-for-dom-keysystemtrackconfiguration-encryptionscheme"><c- g>encryptionScheme</c-></a> = <c- b>null</c->;
};
</pre>
     <p>
      The <dfn class="dfn-paneled idl-code" data-dfn-for="KeySystemTrackConfiguration" data-dfn-type="dict-member" data-export id="dom-keysystemtrackconfiguration-robustness"><code>robustness</code></dfn>
      member represents a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-robustness" id="ref-for-dom-mediakeysystemmediacapability-robustness">robustness</a></code> level
      as described in <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a>.
    </p>
     <p>
      The <dfn class="dfn-paneled idl-code" data-dfn-for="KeySystemTrackConfiguration" data-dfn-type="dict-member" data-export id="dom-keysystemtrackconfiguration-encryptionscheme"><code>encryptionScheme</code></dfn>
      member represents an <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-encryptionscheme" id="ref-for-dom-mediakeysystemmediacapability-encryptionscheme">encryptionScheme</a></code>
      as described in <a data-link-type="biblio" href="#biblio-encrypted-media-draft" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA-DRAFT]</a>.
    </p>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.2" id="media-capabilities-info"><span class="secno">2.2. </span><span class="content">Media Capabilities Information</span><a class="self-link" href="#media-capabilities-info"></a></h3>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediacapabilitiesinfo"><code><c- g>MediaCapabilitiesInfo</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported①"><c- g>supported</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-mediacapabilitiesinfo-smooth" id="ref-for-dom-mediacapabilitiesinfo-smooth"><c- g>smooth</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-mediacapabilitiesinfo-powerefficient" id="ref-for-dom-mediacapabilitiesinfo-powerefficient"><c- g>powerEfficient</c-></a>;
};
</pre>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediacapabilitiesdecodinginfo"><code><c- g>MediaCapabilitiesDecodingInfo</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-mediacapabilitiesinfo" id="ref-for-dictdef-mediacapabilitiesinfo"><c- n>MediaCapabilitiesInfo</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess" id="ref-for-dom-mediakeysystemaccess"><c- n>MediaKeySystemAccess</c-></a>? <a class="idl-code" data-link-type="dict-member" data-type="MediaKeySystemAccess?" href="#dom-mediacapabilitiesdecodinginfo-keysystemaccess" id="ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess"><c- g>keySystemAccess</c-></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration⑨"><c- n>MediaDecodingConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="MediaDecodingConfiguration" href="#dom-mediacapabilitiesdecodinginfo-configuration" id="ref-for-dom-mediacapabilitiesdecodinginfo-configuration"><c- g>configuration</c-></a>;
};
</pre>
<pre class="def highlight idl"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mediacapabilitiesencodinginfo"><code><c- g>MediaCapabilitiesEncodingInfo</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-mediacapabilitiesinfo" id="ref-for-dictdef-mediacapabilitiesinfo①"><c- n>MediaCapabilitiesInfo</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration③"><c- n>MediaEncodingConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="MediaEncodingConfiguration" href="#dom-mediacapabilitiesencodinginfo-configuration" id="ref-for-dom-mediacapabilitiesencodinginfo-configuration"><c- g>configuration</c-></a>;
};
</pre>
     <p>
      A <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesinfo" id="ref-for-dictdef-mediacapabilitiesinfo②">MediaCapabilitiesInfo</a></code> has associated <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesInfo" data-dfn-type="dict-member" data-export id="dom-mediacapabilitiesinfo-supported"><code>supported</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesInfo" data-dfn-type="dict-member" data-export id="dom-mediacapabilitiesinfo-smooth"><code>smooth</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesInfo" data-dfn-type="dict-member" data-export id="dom-mediacapabilitiesinfo-powerefficient"><code>powerEfficient</code></dfn> fields which are
      booleans.
    </p>
     <p>
      Encoding or decoding is considered <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="power-efficient">power efficient</dfn> when the
      power draw is optimal. The definition of optimal power draw for encoding
      or decoding is left to the user agent. However, a common implementation
      strategy is to consider hardware usage as indicative of optimal power
      draw. User agents SHOULD NOT mark hardware encoding or decoding as power
      efficient by default, as non-hardware-accelerated codecs can be just as
      efficient, particularly with low-resolution video. User agents SHOULD
      NOT take the device’s power source into consideration when determining
      encoding power efficiency unless the device’s power source has side
      effects such as enabling different encoding or decoding modules.
    </p>
     <p>
      A <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesdecodinginfo" id="ref-for-dictdef-mediacapabilitiesdecodinginfo">MediaCapabilitiesDecodingInfo</a></code> has associated
      <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesDecodingInfo" data-dfn-type="dict-member" data-export id="dom-mediacapabilitiesdecodinginfo-keysystemaccess"><code>keySystemAccess</code></dfn>
      which is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess" id="ref-for-dom-mediakeysystemaccess①">MediaKeySystemAccess</a></code> or <code>null</code> as
      appropriate.
    </p>
     <p class="note" role="note">
      If the encrypted decoding configuration is supported, the
      resulting <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesinfo" id="ref-for-dictdef-mediacapabilitiesinfo③">MediaCapabilitiesInfo</a></code> will include a
      <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess" id="ref-for-dom-mediakeysystemaccess②">MediaKeySystemAccess</a></code>. Authors may use this to create
      <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeys" id="ref-for-dom-mediakeys">MediaKeys</a></code> and setup encrypted playback.
    </p>
     <p>
      A <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesdecodinginfo" id="ref-for-dictdef-mediacapabilitiesdecodinginfo①">MediaCapabilitiesDecodingInfo</a></code> has an associated <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesDecodingInfo" data-dfn-type="dict-member" data-export id="dom-mediacapabilitiesdecodinginfo-configuration"><code>configuration</code></dfn> which
      is the decoding configuration properties used to generate the
      <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesdecodinginfo" id="ref-for-dictdef-mediacapabilitiesdecodinginfo②">MediaCapabilitiesDecodingInfo</a></code>.
    </p>
     <p>
      A <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesencodinginfo" id="ref-for-dictdef-mediacapabilitiesencodinginfo">MediaCapabilitiesEncodingInfo</a></code> has an associated <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilitiesEncodingInfo" data-dfn-type="dict-member" data-export id="dom-mediacapabilitiesencodinginfo-configuration"><code>configuration</code></dfn> which
      is the encoding configuration properties used to generate the
      <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesencodinginfo" id="ref-for-dictdef-mediacapabilitiesencodinginfo①">MediaCapabilitiesEncodingInfo</a></code>.
    </p>
     <section>
      <h3 class="heading settled" data-level="2.3" id="info-algorithms"><span class="secno">2.3. </span><span class="content">Algorithms</span><a class="self-link" href="#info-algorithms"></a></h3>
      <section class="algorithm" data-algorithm="Create a MediaCapabilitiesEncodingInfo">
       <h4 class="heading settled" data-level="2.3.1" id="create-media-capabilities-encoding-info"><span class="secno">2.3.1. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-lt="Create a MediaCapabilitiesEncodingInfo|create a MediaCapabilitiesEncodingInfo" data-noexport id="abstract-opdef-create-a-mediacapabilitiesencodinginfo">Create a MediaCapabilitiesEncodingInfo</dfn></span><a class="self-link" href="#create-media-capabilities-encoding-info"></a></h4>
       <p>
          To <a data-link-type="abstract-op" href="#abstract-opdef-create-a-mediacapabilitiesencodinginfo" id="ref-for-abstract-opdef-create-a-mediacapabilitiesencodinginfo">create a MediaCapabilitiesEncodingInfo</a>, given a
          <code class="idl"><a data-link-type="idl" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration④">MediaEncodingConfiguration</a></code> <var>configuration</var>, run the
          following steps. They return a <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesencodinginfo" id="ref-for-dictdef-mediacapabilitiesencodinginfo②">MediaCapabilitiesEncodingInfo</a></code>:
        </p>
       <ol>
        <li>
            Let <var>info</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesencodinginfo" id="ref-for-dictdef-mediacapabilitiesencodinginfo③">MediaCapabilitiesEncodingInfo</a></code>
            instance. Unless stated otherwise, reading and writing apply to
            <var>info</var> for the next steps.
          
        <li>
            Set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesencodinginfo-configuration" id="ref-for-dom-mediacapabilitiesencodinginfo-configuration①">configuration</a></code> to be a
            new <code class="idl"><a data-link-type="idl" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration⑤">MediaEncodingConfiguration</a></code>. For every property in <var>
            configuration</var> create a new property with the same name and
            value in <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesencodinginfo-configuration" id="ref-for-dom-mediacapabilitiesencodinginfo-configuration②">configuration</a></code>.
          
        <li>
            Let <var>videoSupported</var> be <code>unknown</code>.
          
        <li>
         If <code class="idl"><a data-link-type="idl" href="#dom-mediaconfiguration-video" id="ref-for-dom-mediaconfiguration-video">video</a></code> is present in
            <var>configuration</var>, run the following steps:
            
         <ol>
          <li>
                Let <var>videoMimeType</var> be the result of running
                <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type②">parse a MIME type</a> with <var>configuration</var>’s
                <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-contenttype" id="ref-for-dom-videoconfiguration-contenttype④">contentType</a></code>.
              
          <li>
                Set <var>videoSupported</var> to the result of running
                <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-support" id="ref-for-abstract-opdef-check-mime-type-support">check MIME type support</a> with
                <var>videoMimeType</var> <var>configuration</var>’s
                <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingconfiguration-type" id="ref-for-dom-mediaencodingconfiguration-type">type</a></code>.
              
         </ol>
        <li>
            Let <var>audioSupported</var> be <code>unknown</code>.
          
        <li>
         
            If <code class="idl"><a data-link-type="idl" href="#dom-mediaconfiguration-audio" id="ref-for-dom-mediaconfiguration-audio">audio</a></code> is present in <var>configuration</var>,
            run the following steps:
            
         <ol>
          <li>
                Let <var>audioMimeType</var> be the result of running
                <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type③">parse a MIME type</a> with <var>configuration</var>’s
                <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-contenttype" id="ref-for-dom-audioconfiguration-contenttype③">contentType</a></code>.
              
          <li>
                Set <var>audioSupported</var> to the result of running
                <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-support" id="ref-for-abstract-opdef-check-mime-type-support①">check MIME type support</a> with <var>audioMimeType</var>
                <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingconfiguration-type" id="ref-for-dom-mediaencodingconfiguration-type①">type</a></code>.
              
         </ol>
        <li>
            If either <var>videoSupported</var> or <var>audioSupported</var> is
            <code>unsupported</code>, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported②">supported</a></code>
            to <code>false</code>, <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-smooth" id="ref-for-dom-mediacapabilitiesinfo-smooth①">smooth</a></code>
            to <code>false</code>, <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-powerefficient" id="ref-for-dom-mediacapabilitiesinfo-powerefficient①">powerEfficient</a></code>
            to <code>false</code>, and return <var>info</var>.
         
        <li>
            Otherwise, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported③">supported</a></code> to
            <code>true</code>.
          
        <li>
            If the user agent is able to encode the media represented by
            <var>configuration</var> at the indicated framerate, set
            <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-smooth" id="ref-for-dom-mediacapabilitiesinfo-smooth②">smooth</a></code> to <code>true</code>. Otherwise
            set it to <code>false</code>.
          
        <li>
            If the user agent is able to encode the media represented by
            <var>configuration</var> in a <a data-link-type="dfn" href="#power-efficient" id="ref-for-power-efficient">power efficient</a> manner, set
            <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-powerefficient" id="ref-for-dom-mediacapabilitiesinfo-powerefficient②">powerEfficient</a></code> to <code>true</code>.
            Otherwise set it to <code>false</code>.
          
        <li>
            Return <var>info</var>.
          
       </ol>
      </section>
      <section class="algorithm" data-algorithm="Create a MediaCapabilitiesDecodingInfo">
       <h4 class="heading settled" data-level="2.3.2" id="create-media-capabilities-decoding-info"><span class="secno">2.3.2. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-lt="Create a MediaCapabilitiesDecodingInfo|create a MediaCapabilitiesDecodingInfo" data-noexport id="abstract-opdef-create-a-mediacapabilitiesdecodinginfo">Create a MediaCapabilitiesDecodingInfo</dfn></span><a class="self-link" href="#create-media-capabilities-decoding-info"></a></h4>
       <p>
          To <a data-link-type="abstract-op" href="#abstract-opdef-create-a-mediacapabilitiesdecodinginfo" id="ref-for-abstract-opdef-create-a-mediacapabilitiesdecodinginfo">create a MediaCapabilitiesDecodingInfo</a>, given a
          <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration①⓪">MediaDecodingConfiguration</a></code> <var>configuration</var>, perform the
          following steps. They return a <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesdecodinginfo" id="ref-for-dictdef-mediacapabilitiesdecodinginfo③">MediaCapabilitiesDecodingInfo</a></code>:
        </p>
       <ol>
        <li>
            Let <var>info</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-mediacapabilitiesdecodinginfo" id="ref-for-dictdef-mediacapabilitiesdecodinginfo④">MediaCapabilitiesDecodingInfo</a></code>
            instance. Unless stated otherwise, reading and writing apply to
            <var>info</var> for the next steps.
          
        <li>
            Set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesdecodinginfo-configuration" id="ref-for-dom-mediacapabilitiesdecodinginfo-configuration①">configuration</a></code> to be a new
            <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration①①">MediaDecodingConfiguration</a></code>. For every property in
            <var>configuration</var> create a new property with the same name and
            value in <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesdecodinginfo-configuration" id="ref-for-dom-mediacapabilitiesdecodinginfo-configuration②">configuration</a></code>.
          
        <li>
         
            If <code>configuration.keySystemConfiguration</code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a>:
            
         <ol>
          <li>
                Set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesdecodinginfo-keysystemaccess" id="ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess①">keySystemAccess</a></code>
                to the result of running the <a data-link-type="abstract-op" href="#abstract-opdef-check-encrypted-decoding-support" id="ref-for-abstract-opdef-check-encrypted-decoding-support">Check Encrypted Decoding Support</a> algorithm with <var>configuration</var>.
              
          <li>
                If <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesdecodinginfo-keysystemaccess" id="ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess②">keySystemAccess</a></code>
                is <code>null</code>, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported④">supported</a></code>
                to <code>false</code>, <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-smooth" id="ref-for-dom-mediacapabilitiesinfo-smooth③">smooth</a></code>
                to <code>false</code>, <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-powerefficient" id="ref-for-dom-mediacapabilitiesinfo-powerefficient③">powerEfficient</a></code>
                to <code>false</code>, and return <var>info</var>.
              
          <li>
                Otherwise, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported⑤">supported</a></code> to
                <code>true</code> and continue with step 6.
              
         </ol>
        <li>
         
            Otherwise, run the following steps:
            
         <ol>
          <li>
                Set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesdecodinginfo-keysystemaccess" id="ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess③">keySystemAccess</a></code>
                to <code>null</code>.
              
          <li>
                Let <var>videoSupported</var> be <code>unknown</code>.
              
          <li>
           
                If <code class="idl"><a data-link-type="idl" href="#dom-mediaconfiguration-video" id="ref-for-dom-mediaconfiguration-video①">video</a></code> is present in <var>configuration</var>,
                run the following steps:
                
           <ol>
            <li>
                    Let <var>videoMimeType</var> be the result of running
                    <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type④">parse a MIME type</a> with <var>configuration</var>’s
                    <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-contenttype" id="ref-for-dom-videoconfiguration-contenttype⑤">contentType</a></code>.
                  
            <li>
                    Set <var>videoSupported</var> be the result of running
                    <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-support" id="ref-for-abstract-opdef-check-mime-type-support②">check MIME type support</a> with <var>videoMimeType</var>,
                    <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingconfiguration-type" id="ref-for-dom-mediadecodingconfiguration-type">type</a></code>,
                    <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-colorgamut" id="ref-for-dom-videoconfiguration-colorgamut①">colorGamut</a></code>,
                    and <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-transferfunction" id="ref-for-dom-videoconfiguration-transferfunction①">transferFunction</a></code>.
                  
           </ol>
          <li>
                Let <var>audioSupported</var> be <code>unknown</code>.
              
          <li>
           
                If <code class="idl"><a data-link-type="idl" href="#dom-mediaconfiguration-audio" id="ref-for-dom-mediaconfiguration-audio①">audio</a></code> is present in <var>configuration</var>,
                run the following steps:
                
           <ol>
            <li>
                    Let <var>audioMimeType</var> be the result of running
                    <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#parse-a-mime-type" id="ref-for-parse-a-mime-type⑤">parse a MIME type</a> with <var>configuration</var>’s
                    <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-contenttype" id="ref-for-dom-audioconfiguration-contenttype④">contentType</a></code>.
                  
            <li>
                    Set <var>audioSupported</var> to the result of running
                    <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-support" id="ref-for-abstract-opdef-check-mime-type-support③">check MIME type support</a> with <var>audioMimeType</var>
                    <var>configuration</var>’s <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingconfiguration-type" id="ref-for-dom-mediadecodingconfiguration-type①">type</a></code>.
                  
           </ol>
          <li>
                If either <var>videoSupported</var> or <var>audioSupported</var> is
                <code>unsupported</code>, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported⑥">supported</a></code>
                to <code>false</code>, <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-smooth" id="ref-for-dom-mediacapabilitiesinfo-smooth④">smooth</a></code>
                to <code>false</code>, <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-powerefficient" id="ref-for-dom-mediacapabilitiesinfo-powerefficient④">powerEfficient</a></code>
                to <code>false</code>, and return <var>info</var>.
              
         </ol>
        <li>
            Set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-supported" id="ref-for-dom-mediacapabilitiesinfo-supported⑦">supported</a></code> to <code>true</code>.
          
        <li>
            If the user agent is able to decode the media represented by
            <var>configuration</var> at the indicated framerate
            without dropping frames, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-smooth" id="ref-for-dom-mediacapabilitiesinfo-smooth⑤">smooth</a></code>
            to <code>true</code>. Otherwise set it to <code>false</code>.
          
        <li>
            If the user agent is able to decode the media represented by
            <var>configuration</var> in a <a data-link-type="dfn" href="#power-efficient" id="ref-for-power-efficient①">power efficient</a>
            manner, set <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitiesinfo-powerefficient" id="ref-for-dom-mediacapabilitiesinfo-powerefficient⑤">powerEfficient</a></code> to
            <code>true</code>. Otherwise set it to <code>false</code>.
          
        <li>
            Return <var>info</var>.
          
       </ol>
      </section>
      <section class="algorithm" data-algorithm="Check MIME Type Validity">
       <h4 class="heading settled" data-level="2.3.3" id="check-mime-type-validity"><span class="secno">2.3.3. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-lt="Check MIME Type Validity|check MIME type validity" data-noexport id="abstract-opdef-check-mime-type-validity">Check MIME Type Validity</dfn></span><a class="self-link" href="#check-mime-type-validity"></a></h4>
       <p>
          To <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-validity" id="ref-for-abstract-opdef-check-mime-type-validity②">check MIME type validity</a> given a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type②">MIME type record</a> <var>mimeType</var> and
          a string <var>media</var>, run the following steps:
        </p>
       <ol>
        <li>
             If the type of <var>mimeType</var> per <a data-link-type="biblio" href="#biblio-rfc9110" title="HTTP Semantics">[RFC9110]</a> is neither <var>media</var> nor
             <code>application</code>, return <code>false</code>.
          
        <li>
            If the combined <code>type</code> and <code>subtype</code> members
            of <var>mimeType</var> allow a single media codec and the
            <code>parameters</code> member of <var>mimeType</var> is not empty,
            return <code>false</code>.
          
        <li>
         
            If the combined <code>type</code> and <code>subtype</code> members
            of <var>mimeType</var> allow multiple media codecs, run the following steps:
            
         <ol>
          <li>
           
                If the <code>parameters</code> member of <var>mimeType</var>
                does not contain a single key named "codecs", return
                <code>false</code>.


           <p class="issue" id="issue-b19b1a35"><a class="self-link" href="#issue-b19b1a35"></a> Why does it matter if a single media codec is listed? <a href="https://github.com/w3c/media-capabilities/issues/235">[Issue #235]</a></p>
          <li>
                If the value of <code>mimeType.parameters["codecs"]</code>
                does not describe a single media codec, return
                <code>false</code>.
              
         </ol>
        <li>
            Return <code>true</code>.
          
       </ol>
       <p class="issue" id="issue-2ac980d5"><a class="self-link" href="#issue-2ac980d5"></a> Does this logic apply to <code>webrtc</code>? <a href="https://github.com/w3c/media-capabilities/issues/238">[Issue #238]</a></p>
      </section>
      <section class="algorithm" data-algorithm="Check MIME Type Support">
       <h4 class="heading settled" data-level="2.3.4" id="check-mime-type-support"><span class="secno">2.3.4. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-lt="Check MIME Type Support|check MIME type support" data-noexport id="abstract-opdef-check-mime-type-support">Check MIME Type Support</dfn></span><a class="self-link" href="#check-mime-type-support"></a></h4>
       <p>
          To <a data-link-type="abstract-op" href="#abstract-opdef-check-mime-type-support" id="ref-for-abstract-opdef-check-mime-type-support④">check MIME type support</a>, given a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#mime-type" id="ref-for-mime-type③">MIME type record</a> <var>mimeType</var>,
          a <code class="idl"><a data-link-type="idl" href="#enumdef-mediaencodingtype" id="ref-for-enumdef-mediaencodingtype②">MediaEncodingType</a></code> or <code class="idl"><a data-link-type="idl" href="#enumdef-mediadecodingtype" id="ref-for-enumdef-mediadecodingtype②">MediaDecodingType</a></code>
          <var>encodingOrDecodingType</var>, an optional <var>colorGamut</var> from
          <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-colorgamut" id="ref-for-dom-videoconfiguration-colorgamut②">colorGamut</a></code>, and an optional <var>transferFunction</var>
          from <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-transferfunction" id="ref-for-dom-videoconfiguration-transferfunction②">transferFunction</a></code>, perform the following
          steps. They return <code>supported</code> if the MIME type is
          <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#supported-by-the-user-agent" id="ref-for-supported-by-the-user-agent">supported by the user agent</a>, <code>unsupported</code> if the MIME type
          is not supported:
        </p>
       <ol>
        <li>
         
            If <var>encodingOrDecodingType</var> is <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingtype-webrtc" id="ref-for-dom-mediaencodingtype-webrtc④">webrtc</a></code> (<code class="idl"><a data-link-type="idl" href="#enumdef-mediaencodingtype" id="ref-for-enumdef-mediaencodingtype③">MediaEncodingType</a></code>)
            or <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc④">webrtc</a></code> (<code class="idl"><a data-link-type="idl" href="#enumdef-mediadecodingtype" id="ref-for-enumdef-mediadecodingtype③">MediaDecodingType</a></code>) and <var>mimeType</var> is not one
            that is used with RTP (as defined in the specifications of the corresponding RTP
            payload formats <a data-link-type="biblio" href="#biblio-iana-media-types" title="Media Types">[IANA-MEDIA-TYPES]</a> <a data-link-type="biblio" href="#biblio-rfc6838" title="Media Type Specifications and Registration Procedures">[RFC6838]</a>), return <code>unsupported</code>.
            
         <p class="note" role="note">
              The codec name is typically specified as subtype and zero or more
              parameters may be present depending on the codec.
            </p>
        <li>
            If <var>colorGamut</var> is present and is not valid for <var>mimeType</var>, return
            <code>unsupported</code>.
          
        <li>
            If <var>transferFunction</var> is present and is not valid for <var>mimeType</var>, return
            <code>unsupported</code>.
          
        <p class="note" role="note">
              User agents should refer to the video codec specification for the codec named by
              <var>mimeType</var> to determine valid values for <var>colorGamut</var> and <var>transferFunction</var>.

</p>
        <p class="issue" id="issue-2b9e7d5d"><a class="self-link" href="#issue-2b9e7d5d"></a> How do we ensure interop in validation steps here? <a href="https://github.com/w3c/media-capabilities/issues/245">[Issue #245]</a></p>
        <p></p>
        <li>
            If <var>mimeType</var> is not <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#supported-by-the-user-agent" id="ref-for-supported-by-the-user-agent①">supported by the user agent</a>, return
            <code>unsupported</code>.
          
        <li>
            Return <code>supported</code>.
          
       </ol>
      </section>
      <section class="algorithm" data-algorithm="Check Encrypted Decoding Support">
       <h4 class="heading settled" data-level="2.3.5" id="is-encrypted-decode-supported"><span class="secno">2.3.5. </span><span class="content"><dfn class="dfn-paneled" data-dfn-type="abstract-op" data-lt="Check Encrypted Decoding Support|check encrypted decoding support" data-noexport id="abstract-opdef-check-encrypted-decoding-support">Check Encrypted Decoding Support</dfn></span><a class="self-link" href="#is-encrypted-decode-supported"></a></h4>
       <p>
          To <a data-link-type="abstract-op" href="#abstract-opdef-check-encrypted-decoding-support" id="ref-for-abstract-opdef-check-encrypted-decoding-support①">check encrypted decoding support</a>, given a <code class="idl"><a data-link-type="idl" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration①②">MediaDecodingConfiguration</a></code>
          <var>config</var> where <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingconfiguration-keysystemconfiguration" id="ref-for-dom-mediadecodingconfiguration-keysystemconfiguration①">keySystemConfiguration</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a>, perform the
          following steps. They return a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess" id="ref-for-dom-mediakeysystemaccess③">MediaKeySystemAccess</a></code> or <code>null</code>
          as appropriate:
        </p>
       <ol>
        <li>
            If the <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilitieskeysystemconfiguration-keysystem" id="ref-for-dom-mediacapabilitieskeysystemconfiguration-keysystem①">keySystem</a></code> member of
            <code>config.keySystemConfiguration</code> is not one of the
            <a data-link-type="dfn" href="https://w3c.github.io/encrypted-media/#dfn-key-system" id="ref-for-dfn-key-system">Key Systems</a> supported by the user agent, return
            <code>null</code>. String comparison is case-sensitive.
          
        <li>
            Let <var>origin</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a> of the calling context’s
            <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>.
          
        <li>
            Let <var>implementation</var> be the implementation of
            <code>config.keySystemConfiguration.keySystem</code>.
          
        <li>
            Let <var>emeConfiguration</var> be a new
            <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration" id="ref-for-dom-mediakeysystemconfiguration">MediaKeySystemConfiguration</a></code>, and initialize it as follows:
          
        <ol>
         <li>
              Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-initdatatypes" id="ref-for-dom-mediakeysystemconfiguration-initdatatypes①">initDataTypes</a></code> attribute to a sequence containing
              <code>config.keySystemConfiguration.initDataType</code>.
            
         <li>
              Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-distinctiveidentifier" id="ref-for-dom-mediakeysystemconfiguration-distinctiveidentifier①">distinctiveIdentifier</a></code> attribute to
              <code>config.keySystemConfiguration.distinctiveIdentifier</code>.
            
         <li>
              Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-persistentstate" id="ref-for-dom-mediakeysystemconfiguration-persistentstate①">persistentState</a></code> attribute to
              <code>config.keySystemConfiguration.peristentState</code>.
            
         <li>
              Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-sessiontypes" id="ref-for-dom-mediakeysystemconfiguration-sessiontypes①">sessionTypes</a></code> attribute to
              <code>config.keySystemConfiguration.sessionTypes</code>.
            
         <li>
          
              If <code class="idl"><a data-link-type="idl" href="#dom-mediaconfiguration-audio" id="ref-for-dom-mediaconfiguration-audio②">audio</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a> in <var>config</var>, set the
              <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-audiocapabilities" id="ref-for-dom-mediakeysystemconfiguration-audiocapabilities">audioCapabilities</a></code> attribute to a sequence containing a
              single <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability" id="ref-for-dom-mediakeysystemmediacapability">MediaKeySystemMediaCapability</a></code>, initialized as
              follows:
              
          <ol>
           <li>
                  Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-contenttype" id="ref-for-dom-mediakeysystemmediacapability-contenttype">contentType</a></code> attribute to
                  <code>config.audio.contentType</code>.
                
           <li>
            
                  If <code>config.keySystemConfiguration.audio</code>
                  <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a>:
                  
            <ol>
             <li>
                      If <code>config.keySystemConfiguration.audio.robustness</code>
                      <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a> and is not <code>null</code>, set the
                      <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-robustness" id="ref-for-dom-mediakeysystemmediacapability-robustness①">robustness</a></code> attribute to
                      <code>config.keySystemConfiguration.audio.robustness</code>.                                        
             <li>
                      Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-encryptionscheme" id="ref-for-dom-mediakeysystemmediacapability-encryptionscheme①">encryptionScheme</a></code> attribute to <code>
                      config.keySystemConfiguration.audio.encryptionScheme</code>.
                    
            </ol>
          </ol>
         <li>
          
              If <code class="idl"><a data-link-type="idl" href="#dom-mediaconfiguration-video" id="ref-for-dom-mediaconfiguration-video②">video</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exists</a> in <var>config</var>, set the
              videoCapabilities attribute to a sequence containing a single
              <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability" id="ref-for-dom-mediakeysystemmediacapability①">MediaKeySystemMediaCapability</a></code>, initialized as follows:
              
          <ol>
           <li>
                  Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-contenttype" id="ref-for-dom-mediakeysystemmediacapability-contenttype①">contentType</a></code> attribute to
                  <code>config.video.contentType</code>.
                
           <li>
            
                  If <code>config.keySystemConfiguration.video</code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>:
                  
            <ol>
             <li>
                      If <code>config.keySystemConfiguration.video.robustness</code>
                      <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a> and is not <code>null</code>, set the
                      <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-robustness" id="ref-for-dom-mediakeysystemmediacapability-robustness②">robustness</a></code> attribute to
                      <code>config.keySystemConfiguration.video.robustness</code>.
                    
             <li>
                      Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-encryptionscheme" id="ref-for-dom-mediakeysystemmediacapability-encryptionscheme②">encryptionScheme</a></code> attribute to <code>
                      config.keySystemConfiguration.video.encryptionScheme</code>.
                    
            </ol>
          </ol>
        </ol>
        <li>
            Let <var>supported configuration</var> be the result of
            executing the <a data-link-type="dfn" href="https://w3c.github.io/encrypted-media/#dfn-get-supported-configuration" id="ref-for-dfn-get-supported-configuration">Get Supported Configuration</a>
            algorithm <a data-link-type="biblio" href="#biblio-encrypted-media" title="Encrypted Media Extensions">[ENCRYPTED-MEDIA]</a> on <var>implementation</var>,
            <var>emeConfiguration</var>, and <var>origin</var>.
          
        <li>
            If <var>supported configuration</var> is
            <code>NotSupported</code>, return <code>null</code>.
          
        <li>
         
            Let <var>access</var> be a new <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess" id="ref-for-dom-mediakeysystemaccess④">MediaKeySystemAccess</a></code>
            object, and initialize it as follows:
            
         <ol>
          <li>
                Set the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess-keysystem" id="ref-for-dom-mediakeysystemaccess-keysystem①">keySystem</a></code> attribute to
                <code>emeConfiguration.keySystem</code>.
              
          <li>
                Let the <var>configuration</var> value be
                <var>supported configuration</var>.
              
          <li>
                Let the <var>cdm implementation</var> value be
                <var>implementation</var>.
              
         </ol>
        <li>Return <var>access</var>.
       </ol>
      </section>
     </section>
     <section>
      <h3 class="heading settled" data-level="2.4" id="navigators-extensions"><span class="secno">2.4. </span><span class="content">Navigator and WorkerNavigator extension</span><a class="self-link" href="#navigators-extensions"></a></h3>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#mediacapabilities" id="ref-for-mediacapabilities"><c- n>MediaCapabilities</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export data-readonly data-type="MediaCapabilities" id="dom-navigator-mediacapabilities"><code><c- g>mediaCapabilities</c-></code></dfn>;
};
</pre>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Worker</c->]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator"><c- g>WorkerNavigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#mediacapabilities" id="ref-for-mediacapabilities①"><c- n>MediaCapabilities</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WorkerNavigator" data-dfn-type="attribute" data-export data-readonly data-type="MediaCapabilities" id="dom-workernavigator-mediacapabilities"><code><c- g>mediaCapabilities</c-></code></dfn>;
};
</pre>
     </section>
     <section>
      <h3 class="heading settled" data-level="2.5" id="media-capabilities-interface"><span class="secno">2.5. </span><span class="content">Media Capabilities Interface</span><a class="self-link" href="#media-capabilities-interface"></a></h3>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->, <c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="mediacapabilities"><code><c- g>MediaCapabilities</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mediacapabilitiesdecodinginfo" id="ref-for-dictdef-mediacapabilitiesdecodinginfo⑤"><c- n>MediaCapabilitiesDecodingInfo</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilities" data-dfn-type="method" data-export data-lt="decodingInfo(configuration)" id="dom-mediacapabilities-decodinginfo"><code><c- g>decodingInfo</c-></code></dfn>(
      <a data-link-type="idl-name" href="#dictdef-mediadecodingconfiguration" id="ref-for-dictdef-mediadecodingconfiguration①③"><c- n>MediaDecodingConfiguration</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilities/decodingInfo(configuration)" data-dfn-type="argument" data-export id="dom-mediacapabilities-decodinginfo-configuration-configuration"><code><c- g>configuration</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mediacapabilitiesencodinginfo" id="ref-for-dictdef-mediacapabilitiesencodinginfo④"><c- n>MediaCapabilitiesEncodingInfo</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilities" data-dfn-type="method" data-export data-lt="encodingInfo(configuration)" id="dom-mediacapabilities-encodinginfo"><code><c- g>encodingInfo</c-></code></dfn>(
      <a data-link-type="idl-name" href="#dictdef-mediaencodingconfiguration" id="ref-for-dictdef-mediaencodingconfiguration⑥"><c- n>MediaEncodingConfiguration</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MediaCapabilities/encodingInfo(configuration)" data-dfn-type="argument" data-export id="dom-mediacapabilities-encodinginfo-configuration-configuration"><code><c- g>configuration</c-></code></dfn>);
};
</pre>
      <section>
       <h4 class="heading settled" data-level="2.5.1" id="task-source"><span class="secno">2.5.1. </span><span class="content">Media Capabilities Task Source</span><a class="self-link" href="#task-source"></a></h4>
       <p>
      The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task source</a> for the tasks mentioned in this specification
      is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="media-capabilities-task-source">media capabilities task source</dfn>.
    </p>
       <p>
      When an algorithm <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="queue a Media Capabilities task" data-noexport id="queue-a-media-capabilities-task">queues
      a Media Capabilities task</dfn> <var>T</var>, the user agent
      MUST <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">queue a global task</a> <var>T</var> on the <a data-link-type="dfn" href="#media-capabilities-task-source" id="ref-for-media-capabilities-task-source">media capabilities task source</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global">global object</a> of the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#current-realm" id="ref-for-current-realm">the current realm record</a>.
    </p>
      </section>
      <section>
       <h4 class="heading settled" data-level="2.5.2" id="decodinginfo-method"><span class="secno">2.5.2. </span><span class="content">decodingInfo() Method</span><a class="self-link" href="#decodinginfo-method"></a></h4>
       <p>
      The <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-decodinginfo" id="ref-for-dom-mediacapabilities-decodinginfo">decodingInfo()</a></code> method MUST run the following steps:
    </p>
       <ol>
        <li>
        If <var>configuration</var> is not a <a data-link-type="dfn" href="#valid-mediadecodingconfiguration" id="ref-for-valid-mediadecodingconfiguration">valid
        MediaDecodingConfiguration</a>, return a Promise rejected with a
        newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.
      
        <li>
         
        If <code>configuration.keySystemConfiguration</code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>,
        run the following substeps:
        
         <ol>
          <li>
            If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object">global object</a> is of type <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope">WorkerGlobalScope</a></code>,
            return a Promise rejected with a newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>
            whose name is <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>.
          
          <li>
            If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object①">global object’s</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a> is a
            <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context" id="ref-for-non-secure-context">non-secure context</a>, return a Promise rejected with a newly
            created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> whose name is <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>.
          
         </ol>
        <li>
        Let <var>p</var> be a new Promise.
      
        <li>
         
        Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:
        
         <ol>
          <li>
            Run the <a data-link-type="abstract-op" href="#abstract-opdef-create-a-mediacapabilitiesdecodinginfo" id="ref-for-abstract-opdef-create-a-mediacapabilitiesdecodinginfo①">Create a MediaCapabilitiesDecodingInfo</a> algorithm
            with <var>configuration</var>.
          
          <li>
            <a data-link-type="dfn" href="#queue-a-media-capabilities-task" id="ref-for-queue-a-media-capabilities-task">Queue a Media Capabilities task</a> to resolve <var>p</var>
            with its result.
          
         </ol>
        <li>
        Return <var>p</var>.
      
       </ol>
       <p class="note" role="note">
      Note, calling <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-decodinginfo" id="ref-for-dom-mediacapabilities-decodinginfo①">decodingInfo()</a></code> with a <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingconfiguration-keysystemconfiguration" id="ref-for-dom-mediadecodingconfiguration-keysystemconfiguration②">keySystemConfiguration</a></code> present
      may have user-visible effects, including requests for user consent. Such
      calls should only be made when the author intends to create and use a
      <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/encrypted-media/#dom-mediakeys" id="ref-for-dom-mediakeys①">MediaKeys</a></code> object with the provided configuration.
    </p>
      </section>
      <section>
       <h4 class="heading settled" data-level="2.5.3" id="encodinginfo-method"><span class="secno">2.5.3. </span><span class="content">encodingInfo() Method</span><a class="self-link" href="#encodinginfo-method"></a></h4>
       <p>
      The <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-encodinginfo" id="ref-for-dom-mediacapabilities-encodinginfo">encodingInfo()</a></code> method MUST run the following steps:
    </p>
       <ol>
        <li>
        If <var>configuration</var> is not a <a data-link-type="dfn" href="#valid-mediaconfiguration" id="ref-for-valid-mediaconfiguration①">valid MediaConfiguration</a>,
        return a Promise rejected with a newly created <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.
      
        <li>
        Let <var>p</var> be a new Promise.
      
        <li>
         
        Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:
          
         <ol>
          <li>
              Run the <a data-link-type="abstract-op" href="#abstract-opdef-create-a-mediacapabilitiesencodinginfo" id="ref-for-abstract-opdef-create-a-mediacapabilitiesencodinginfo①">Create a MediaCapabilitiesEncodingInfo</a>
              algorithm with <var>configuration</var>.
            
          <li>
             <a data-link-type="dfn" href="#queue-a-media-capabilities-task" id="ref-for-queue-a-media-capabilities-task①">Queue a Media Capabilities task</a> to resolve <var>p</var> with
             its result.
           
         </ol>
        <li>
        Return <var>p</var>.
      
       </ol>
      </section>
     </section>
    </section>
    <section class="non-normative">
     <h2 class="heading settled" data-level="3" id="security-privacy-considerations"><span class="secno">3. </span><span class="content">
    Security and Privacy Considerations
  </span><a class="self-link" href="#security-privacy-considerations"></a></h2>
     <section>
      <p>
      This specification does not introduce any security-sensitive information
      or APIs but it provides easier access to some information that can be
      used to fingerprint users.
    </p>
      <section>
       <h3 class="heading settled" data-level="3.1" id="capabilities-model"><span class="secno">3.1. </span><span class="content">
        Capabilities Model
      </span><a class="self-link" href="#capabilities-model"></a></h3>
       <p>
        This specification supports <code class="idl"><a data-link-type="idl" href="#enumdef-mediadecodingtype" id="ref-for-enumdef-mediadecodingtype④">MediaDecodingType</a></code> values of <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-file" id="ref-for-dom-mediadecodingtype-file⑨">file</a></code>,
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-media-source" id="ref-for-dom-mediadecodingtype-media-source⑨">media-source</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc⑤">webrtc</a></code> as well as
        <code class="idl"><a data-link-type="idl" href="#enumdef-mediaencodingtype" id="ref-for-enumdef-mediaencodingtype④">MediaEncodingType</a></code> values of <code class="idl"><a data-link-type="idl" href="#dom-mediaencodingtype-record" id="ref-for-dom-mediaencodingtype-record①">record</a></code> and
        <code class="idl"><a data-link-type="idl" href="#dom-mediadecodingtype-webrtc" id="ref-for-dom-mediadecodingtype-webrtc⑥">webrtc</a></code>.
      </p>
       <p>
        In realtime communications supported by <a data-link-type="biblio" href="#biblio-webrtc" title="WebRTC: Real-Time Communication in Browsers">[webrtc]</a>, media is
        transported between peers. Although sites are responsible for
        exchanging the information necessary to negotiate media parameters
        common to both user agents, they are typically not involved in
        media transport, encoding, or decoding.  For 1-1 calls, user agents
        negotiate the media to be sent and received.
     </p>
       <p>
        In a conferencing scenario, a user agent can send media for
        reception by dozens or even hundreds of receivers.  To improve
        scalability, applications make use of external servers, such as
        selective forwarding units or conferencing bridges. These servers
        negotiate media parameters with participants, ensuring consistency
        across senders and receivers. This is more scalable than negotiation 
        between user agents, which would require N * (N -1) negotiations.
        Typically senders encode with a single codec, and conferencing
        servers do not support transcoding, so a user agent cannot simply
        "pick the one they like best".
     </p>
      </section>
      <section>
       <h3 class="heading settled" data-level="3.2" id="decoding-encoding-fingerprinting"><span class="secno">3.2. </span><span class="content">
        Decoding/Encoding and Fingerprinting
      </span><a class="self-link" href="#decoding-encoding-fingerprinting"></a></h3>
       <p>
        The information exposed by the decoding/encoding capabilities can
        already be discovered via experimentation with the exception that the
        API will likely provide more accurate and consistent information. This
        information is expected to have a high correlation with other
        information already available to web pages as a given class of
        device is expected to have very similar decoding/encoding capabilities.
        In other words, high end devices from a certain year are expected to
        decode some type of videos while older devices may not. Therefore, it is
        expected that the entropy added with this API isn’t going to be
        significant.
      </p>
       <p>
        HDR detection is more nuanced. Adding <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-colorgamut" id="ref-for-dom-videoconfiguration-colorgamut③">colorGamut</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-transferfunction" id="ref-for-dom-videoconfiguration-transferfunction③">transferFunction</a></code>, and
        <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-hdrmetadatatype" id="ref-for-dom-videoconfiguration-hdrmetadatatype①">hdrMetadataType</a></code> has the potential to add significant entropy. However,
        for UAs whose decoders are implemented in software and therefore whose
        capabilities are fixed across devices, this feature adds no effective
        entropy. Additionally, for many cases, devices tend to fall into large
        categories, within which capabilities are similar thus minimizing
        effective entropy.
      </p>
       <p>
        An alternative design approach in which sites expose the available media
        formats and browsers evaluate these against capabilities, returning only
        the chosen format was considered. However, this would not in fact offer
        a privacy benefit since sites could use the API repeatedly to obtain the
        complete capability set. Stringent rate limiting of the API could interfere
        with normal site behaviors such as speculative preparation across multiple
        playback items.
      </p>
       <p>
        If an implementation wishes to implement a fingerprint-proof version of
        this specification, it would be recommended to fake a given set of
        capabilities (i.e., decode up to 1080p VP9, etc.) instead of returning
        always yes or always no as the latter approach could considerably
        degrade the user’s experience. Another mitigation could be to limit
        these Web APIs to top-level browsing contexts. Yet another is to use a
        privacy budget that throttles and/or blocks calls to the API above a
        threshold. Additionally, browsers may consider whether a site goes on
        to make use of the capabilities it detects and apply more stringent
        controls to sites that are observed not to do so.
      </p>
      </section>
     </section>
    </section>
    <section>
     <h2 class="heading settled" data-level="4" id="examples"><span class="secno">4. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
     <section>
      <h3 class="heading settled" data-level="4.1" id="example1"><span class="secno">4.1. </span><span class="content">Query playback capabilities with <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-decodinginfo" id="ref-for-dom-mediacapabilities-decodinginfo②">decodingInfo()</a></code></span><a class="self-link" href="#example1"></a></h3>
      <p>
        The following example shows how to use <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-decodinginfo" id="ref-for-dom-mediacapabilities-decodinginfo③">decodingInfo()</a></code> to query
        media playback capabilities when using Media Source Extensions
        <a data-link-type="biblio" href="#biblio-media-source" title="Media Source Extensions™">[media-source]</a>.
      </p>
      <div class="example" id="example-b084ff72">
       <a class="self-link" href="#example-b084ff72"></a>
        
<pre class="highlight"><c- o>&lt;</c->script<c- o>></c->
  <c- a>const</c-> contentType <c- o>=</c-> <c- t>'video/mp4;codecs=avc1.640028'</c-><c- p>;</c->

  <c- a>const</c-> configuration <c- o>=</c-> <c- p>{</c->
    type<c- o>:</c-> <c- t>'media-source'</c-><c- p>,</c->
    video<c- o>:</c-> <c- p>{</c->
      contentType<c- o>:</c-> contentType<c- p>,</c->
      width<c- o>:</c-> <c- mf>640</c-><c- p>,</c->
      height<c- o>:</c-> <c- mf>360</c-><c- p>,</c->
      bitrate<c- o>:</c-> <c- mf>2000</c-><c- p>,</c->
      framerate<c- o>:</c-> <c- mf>29.97</c->
    <c- p>}</c->
  <c- p>};</c->

  navigator<c- p>.</c->mediaCapabilities<c- p>.</c->decodingInfo<c- p>(</c->configuration<c- p>)</c->
    <c- p>.</c->then<c- p>((</c->result<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c-><c- t>'Decoding of '</c-> <c- o>+</c-> contentType <c- o>+</c-> <c- t>' is'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->supported <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' supported,'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->smooth <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' smooth and'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->powerEfficient <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' power efficient'</c-><c- p>);</c->
    <c- p>})</c->
    <c- p>.</c-><c- k>catch</c-><c- p>((</c->err<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->error<c- p>(</c->err<c- p>,</c-> <c- t>' caused decodingInfo to reject'</c-><c- p>);</c->
    <c- p>});</c->
<c- o>&lt;</c->/script>
</pre>
      </div>
      <p>
        The following examples show how to use <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-decodinginfo" id="ref-for-dom-mediacapabilities-decodinginfo④">decodingInfo()</a></code> to query
        WebRTC receive capabilities <a data-link-type="biblio" href="#biblio-webrtc" title="WebRTC: Real-Time Communication in Browsers">[webrtc]</a>.
      </p>
      <div class="example" id="example-8dd1b9ff">
       <a class="self-link" href="#example-8dd1b9ff"></a>
        
<pre class="highlight"><c- o>&lt;</c->script<c- o>></c->
  <c- a>const</c-> contentType <c- o>=</c-> <c- t>'video/VP8'</c-><c- p>;</c->

  <c- a>const</c-> configuration <c- o>=</c-> <c- p>{</c->
    type<c- o>:</c-> <c- t>'webrtc'</c-><c- p>,</c->
    video<c- o>:</c-> <c- p>{</c->
      contentType<c- o>:</c-> contentType<c- p>,</c->
      width<c- o>:</c-> <c- mf>640</c-><c- p>,</c->
      height<c- o>:</c-> <c- mf>360</c-><c- p>,</c->
      bitrate<c- o>:</c-> <c- mf>2000</c-><c- p>,</c->
      framerate<c- o>:</c-> <c- mf>25</c->
    <c- p>}</c->
  <c- p>};</c->

  navigator<c- p>.</c->mediaCapabilities<c- p>.</c->decodingInfo<c- p>(</c->configuration<c- p>)</c->
    <c- p>.</c->then<c- p>((</c->result<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c-><c- t>'Decoding of '</c-> <c- o>+</c-> contentType <c- o>+</c-> <c- t>' is'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->supported <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' supported,'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->smooth <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' smooth and'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->powerEfficient <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' power efficient'</c-><c- p>);</c->
    <c- p>})</c->
    <c- p>.</c-><c- k>catch</c-><c- p>((</c->err<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->error<c- p>(</c->err<c- p>,</c-> <c- t>' caused decodingInfo to reject'</c-><c- p>);</c->
    <c- p>});</c->
<c- o>&lt;</c->/script>
</pre>
      </div>
      <div class="example" id="example-08fadce2">
       <a class="self-link" href="#example-08fadce2"></a>
        
<pre class="highlight"><c- o>&lt;</c->script<c- o>></c->
  <c- a>const</c-> contentType <c- o>=</c-> <c- t>'video/H264;level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f'</c-><c- p>;</c->

  <c- a>const</c-> configuration <c- o>=</c-> <c- p>{</c->
    type<c- o>:</c-> <c- t>'webrtc'</c-><c- p>,</c->
    video<c- o>:</c-> <c- p>{</c->
      contentType<c- o>:</c-> contentType<c- p>,</c->
      width<c- o>:</c-> <c- mf>640</c-><c- p>,</c->
      height<c- o>:</c-> <c- mf>360</c-><c- p>,</c->
      bitrate<c- o>:</c-> <c- mf>2000</c-><c- p>,</c->
      framerate<c- o>:</c-> <c- mf>25</c->
    <c- p>}</c->
  <c- p>};</c->

  navigator<c- p>.</c->mediaCapabilities<c- p>.</c->decodingInfo<c- p>(</c->configuration<c- p>)</c->
    <c- p>.</c->then<c- p>((</c->result<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c-><c- t>'Decoding of '</c-> <c- o>+</c-> contentType <c- o>+</c-> <c- t>' is'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->supported <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' supported,'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->smooth <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' smooth and'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->powerEfficient <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' power efficient'</c-><c- p>);</c->
    <c- p>})</c->
    <c- p>.</c-><c- k>catch</c-><c- p>((</c->err<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->error<c- p>(</c->err<c- p>,</c-> <c- t>' caused decodingInfo to reject'</c-><c- p>);</c->
    <c- p>});</c->
<c- o>&lt;</c->/script>
</pre>
      </div>
     </section>
     <section>
      <h3 class="heading settled" data-level="4.2" id="example2"><span class="secno">4.2. </span><span class="content">Query recording capabilities with <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-encodinginfo" id="ref-for-dom-mediacapabilities-encodinginfo①">encodingInfo()</a></code></span><a class="self-link" href="#example2"></a></h3>
      <div class="note" role="note">
        The following example shows how to use <code class="idl"><a data-link-type="idl" href="#dom-mediacapabilities-encodinginfo" id="ref-for-dom-mediacapabilities-encodinginfo②">encodingInfo()</a></code> to query
        WebRTC send capabilities <a data-link-type="biblio" href="#biblio-webrtc" title="WebRTC: Real-Time Communication in Browsers">[webrtc]</a> including the optional field
        <code class="idl"><a data-link-type="idl" href="#dom-videoconfiguration-scalabilitymode" id="ref-for-dom-videoconfiguration-scalabilitymode④">scalabilityMode</a></code>.
      </div>
      <div class="example" id="example-60212754">
       <a class="self-link" href="#example-60212754"></a>
        
<pre class="highlight"><c- o>&lt;</c->script<c- o>></c->
  <c- a>const</c-> contentType <c- o>=</c-> <c- t>'video/VP9'</c-><c- p>;</c->

  <c- a>const</c-> configuration <c- o>=</c-> <c- p>{</c->
    type<c- o>:</c-> <c- t>'webrtc'</c-><c- p>,</c->
    video<c- o>:</c-> <c- p>{</c->
      contentType<c- o>:</c-> contentType<c- p>,</c->
      width<c- o>:</c-> <c- mf>640</c-><c- p>,</c->
      height<c- o>:</c-> <c- mf>480</c-><c- p>,</c->
      bitrate<c- o>:</c-> <c- mf>10000</c-><c- p>,</c->
      framerate<c- o>:</c-> <c- mf>29.97</c-><c- p>,</c->
      scalabilityMode<c- o>:</c-> <c- u>"L3T3_KEY"</c->
    <c- p>}</c->
  <c- p>};</c->

  navigator<c- p>.</c->mediaCapabilities<c- p>.</c->encodingInfo<c- p>(</c->configuration<c- p>)</c->
    <c- p>.</c->then<c- p>((</c->result<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c->contentType <c- o>+</c-> <c- t>' is:'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->supported <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' supported,'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->smooth <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' smooth and'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->powerEfficient <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' power efficient'</c-><c- p>);</c->
    <c- p>})</c->
    <c- p>.</c-><c- k>catch</c-><c- p>((</c->err<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->error<c- p>(</c->err<c- p>,</c-> <c- t>' caused encodingInfo to reject'</c-><c- p>);</c->
    <c- p>});</c->
<c- o>&lt;</c->/script>
</pre>
      </div>
      <div class="note" role="note">
        The following example can also be found in
        <a href="https://codepen.io/miguelao/pen/bWNwej/left?editors=0010#0">
        this codepen</a> with minimal modifications.
      </div>
      <div class="example" id="example-264e78d6">
       <a class="self-link" href="#example-264e78d6"></a>
        
<pre class="highlight"><c- o>&lt;</c->script<c- o>></c->
  <c- a>const</c-> contentType <c- o>=</c-> <c- t>'video/webm;codecs=vp8'</c-><c- p>;</c->

  <c- a>const</c-> configuration <c- o>=</c-> <c- p>{</c->
    type<c- o>:</c-> <c- t>'record'</c-><c- p>,</c->
    video<c- o>:</c-> <c- p>{</c->
      contentType<c- o>:</c-> contentType<c- p>,</c->
      width<c- o>:</c-> <c- mf>640</c-><c- p>,</c->
      height<c- o>:</c-> <c- mf>480</c-><c- p>,</c->
      bitrate<c- o>:</c-> <c- mf>10000</c-><c- p>,</c->
      framerate<c- o>:</c-> <c- mf>29.97</c->
    <c- p>}</c->
  <c- p>};</c->

  navigator<c- p>.</c->mediaCapabilities<c- p>.</c->encodingInfo<c- p>(</c->configuration<c- p>)</c->
    <c- p>.</c->then<c- p>((</c->result<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->log<c- p>(</c->contentType <c- o>+</c-> <c- t>' is:'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->supported <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' supported,'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->smooth <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' smooth and'</c->
        <c- o>+</c-> <c- p>(</c->result<c- p>.</c->powerEfficient <c- o>?</c-> <c- t>''</c-> <c- o>:</c-> <c- t>' NOT'</c-><c- p>)</c-> <c- o>+</c-> <c- t>' power efficient'</c-><c- p>);</c->
    <c- p>})</c->
    <c- p>.</c-><c- k>catch</c-><c- p>((</c->err<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
      console<c- p>.</c->error<c- p>(</c->err<c- p>,</c-> <c- t>' caused encodingInfo to reject'</c-><c- p>);</c->
    <c- p>});</c->
<c- o>&lt;</c->/script>
</pre>
      </div>
     </section>
    </section>
   </section>
  </main>
  <div data-fill-with="conformance">
   <h2 class="heading no-num no-ref settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="heading no-num no-ref settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification.

    </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>

    </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this:

    </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a>
        
    <p>This is an example of an informative example.
    </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this:

    </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <section>
    <h3 class="heading no-num no-ref settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
    <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm.

    </p>
    <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize.
</p>
   </section>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="heading no-num no-ref settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="heading no-num no-ref settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    audio
    <ul>
     <li><a href="#dom-mediacapabilitieskeysystemconfiguration-audio">dict-member for MediaCapabilitiesKeySystemConfiguration</a><span>, in § 2.1.9</span>
     <li><a href="#dom-mediaconfiguration-audio">dict-member for MediaConfiguration</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#dictdef-audioconfiguration">AudioConfiguration</a><span>, in § 2.1.8</span>
   <li>
    bitrate
    <ul>
     <li><a href="#dom-audioconfiguration-bitrate">dict-member for AudioConfiguration</a><span>, in § 2.1.8</span>
     <li><a href="#dom-videoconfiguration-bitrate">dict-member for VideoConfiguration</a><span>, in § 2.1.4</span>
    </ul>
   <li><a href="#dom-audioconfiguration-channels">channels</a><span>, in § 2.1.8</span>
   <li><a href="#abstract-opdef-check-encrypted-decoding-support">Check Encrypted Decoding Support</a><span>, in § 2.3.5</span>
   <li><a href="#abstract-opdef-check-encrypted-decoding-support">check encrypted decoding support</a><span>, in § 2.3.5</span>
   <li><a href="#abstract-opdef-check-mime-type-support">Check MIME Type Support</a><span>, in § 2.3.4</span>
   <li><a href="#abstract-opdef-check-mime-type-support">check MIME type support</a><span>, in § 2.3.4</span>
   <li><a href="#abstract-opdef-check-mime-type-validity">Check MIME Type Validity</a><span>, in § 2.3.3</span>
   <li><a href="#abstract-opdef-check-mime-type-validity">check MIME type validity</a><span>, in § 2.3.3</span>
   <li><a href="#enumdef-colorgamut">ColorGamut</a><span>, in § 2.1.6</span>
   <li><a href="#dom-videoconfiguration-colorgamut">colorGamut</a><span>, in § 2.1.4</span>
   <li>
    configuration
    <ul>
     <li><a href="#dom-mediacapabilitiesdecodinginfo-configuration">dict-member for MediaCapabilitiesDecodingInfo</a><span>, in § 2.2</span>
     <li><a href="#dom-mediacapabilitiesencodinginfo-configuration">dict-member for MediaCapabilitiesEncodingInfo</a><span>, in § 2.2</span>
    </ul>
   <li>
    contentType
    <ul>
     <li><a href="#dom-audioconfiguration-contenttype">dict-member for AudioConfiguration</a><span>, in § 2.1.8</span>
     <li><a href="#dom-videoconfiguration-contenttype">dict-member for VideoConfiguration</a><span>, in § 2.1.4</span>
    </ul>
   <li><a href="#abstract-opdef-create-a-mediacapabilitiesdecodinginfo">Create a MediaCapabilitiesDecodingInfo</a><span>, in § 2.3.2</span>
   <li><a href="#abstract-opdef-create-a-mediacapabilitiesdecodinginfo">create a MediaCapabilitiesDecodingInfo</a><span>, in § 2.3.2</span>
   <li><a href="#abstract-opdef-create-a-mediacapabilitiesencodinginfo">Create a MediaCapabilitiesEncodingInfo</a><span>, in § 2.3.1</span>
   <li><a href="#abstract-opdef-create-a-mediacapabilitiesencodinginfo">create a MediaCapabilitiesEncodingInfo</a><span>, in § 2.3.1</span>
   <li><a href="#dom-mediacapabilities-decodinginfo">decodingInfo(configuration)</a><span>, in § 2.5</span>
   <li><a href="#dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier">distinctiveIdentifier</a><span>, in § 2.1.9</span>
   <li><a href="#dom-mediacapabilities-encodinginfo">encodingInfo(configuration)</a><span>, in § 2.5</span>
   <li><a href="#dom-keysystemtrackconfiguration-encryptionscheme">encryptionScheme</a><span>, in § 2.1.10</span>
   <li><a href="#dom-mediadecodingtype-file">"file"</a><span>, in § 2.1.2</span>
   <li><a href="#dom-mediadecodingtype-file">file</a><span>, in § 2.1.2</span>
   <li><a href="#dom-videoconfiguration-framerate">framerate</a><span>, in § 2.1.4</span>
   <li><a href="#dom-videoconfiguration-hasalphachannel">hasAlphaChannel</a><span>, in § 2.1.4</span>
   <li><a href="#enumdef-hdrmetadatatype">HdrMetadataType</a><span>, in § 2.1.5</span>
   <li><a href="#dom-videoconfiguration-hdrmetadatatype">hdrMetadataType</a><span>, in § 2.1.4</span>
   <li><a href="#dom-videoconfiguration-height">height</a><span>, in § 2.1.4</span>
   <li><a href="#dom-transferfunction-hlg">"hlg"</a><span>, in § 2.1.7</span>
   <li><a href="#dom-transferfunction-hlg">hlg</a><span>, in § 2.1.7</span>
   <li><a href="#dom-mediacapabilitieskeysystemconfiguration-initdatatype">initDataType</a><span>, in § 2.1.9</span>
   <li><a href="#dom-mediacapabilitieskeysystemconfiguration-keysystem">keySystem</a><span>, in § 2.1.9</span>
   <li><a href="#dom-mediacapabilitiesdecodinginfo-keysystemaccess">keySystemAccess</a><span>, in § 2.2</span>
   <li><a href="#dom-mediadecodingconfiguration-keysystemconfiguration">keySystemConfiguration</a><span>, in § 2.1.1</span>
   <li><a href="#dictdef-keysystemtrackconfiguration">KeySystemTrackConfiguration</a><span>, in § 2.1.10</span>
   <li><a href="#mediacapabilities">MediaCapabilities</a><span>, in § 2.5</span>
   <li>
    mediaCapabilities
    <ul>
     <li><a href="#dom-navigator-mediacapabilities">attribute for Navigator</a><span>, in § 2.4</span>
     <li><a href="#dom-workernavigator-mediacapabilities">attribute for WorkerNavigator</a><span>, in § 2.4</span>
    </ul>
   <li><a href="#dictdef-mediacapabilitiesdecodinginfo">MediaCapabilitiesDecodingInfo</a><span>, in § 2.2</span>
   <li><a href="#dictdef-mediacapabilitiesencodinginfo">MediaCapabilitiesEncodingInfo</a><span>, in § 2.2</span>
   <li><a href="#dictdef-mediacapabilitiesinfo">MediaCapabilitiesInfo</a><span>, in § 2.2</span>
   <li><a href="#dictdef-mediacapabilitieskeysystemconfiguration">MediaCapabilitiesKeySystemConfiguration</a><span>, in § 2.1.9</span>
   <li><a href="#media-capabilities-task-source">media capabilities task source</a><span>, in § 2.5.1</span>
   <li><a href="#dictdef-mediaconfiguration">MediaConfiguration</a><span>, in § 2.1.1</span>
   <li><a href="#dictdef-mediadecodingconfiguration">MediaDecodingConfiguration</a><span>, in § 2.1.1</span>
   <li><a href="#enumdef-mediadecodingtype">MediaDecodingType</a><span>, in § 2.1.2</span>
   <li><a href="#dictdef-mediaencodingconfiguration">MediaEncodingConfiguration</a><span>, in § 2.1.1</span>
   <li><a href="#enumdef-mediaencodingtype">MediaEncodingType</a><span>, in § 2.1.3</span>
   <li><a href="#dom-mediadecodingtype-media-source">"media-source"</a><span>, in § 2.1.2</span>
   <li><a href="#dom-mediadecodingtype-media-source">media-source</a><span>, in § 2.1.2</span>
   <li><a href="#dom-colorgamut-p3">"p3"</a><span>, in § 2.1.6</span>
   <li><a href="#dom-colorgamut-p3">p3</a><span>, in § 2.1.6</span>
   <li><a href="#dom-mediacapabilitieskeysystemconfiguration-persistentstate">persistentState</a><span>, in § 2.1.9</span>
   <li><a href="#power-efficient">power efficient</a><span>, in § 2.2</span>
   <li><a href="#dom-mediacapabilitiesinfo-powerefficient">powerEfficient</a><span>, in § 2.2</span>
   <li><a href="#dom-transferfunction-pq">"pq"</a><span>, in § 2.1.7</span>
   <li><a href="#dom-transferfunction-pq">pq</a><span>, in § 2.1.7</span>
   <li><a href="#queue-a-media-capabilities-task">queue a Media Capabilities task</a><span>, in § 2.5.1</span>
   <li><a href="#dom-colorgamut-rec2020">"rec2020"</a><span>, in § 2.1.6</span>
   <li><a href="#dom-colorgamut-rec2020">rec2020</a><span>, in § 2.1.6</span>
   <li><a href="#dom-mediaencodingtype-record">"record"</a><span>, in § 2.1.3</span>
   <li><a href="#dom-mediaencodingtype-record">record</a><span>, in § 2.1.3</span>
   <li><a href="#dom-keysystemtrackconfiguration-robustness">robustness</a><span>, in § 2.1.10</span>
   <li><a href="#dom-audioconfiguration-samplerate">samplerate</a><span>, in § 2.1.8</span>
   <li><a href="#dom-videoconfiguration-scalabilitymode">scalabilityMode</a><span>, in § 2.1.4</span>
   <li><a href="#dom-mediacapabilitieskeysystemconfiguration-sessiontypes">sessionTypes</a><span>, in § 2.1.9</span>
   <li><a href="#dom-mediacapabilitiesinfo-smooth">smooth</a><span>, in § 2.2</span>
   <li><a href="#dom-hdrmetadatatype-smptest2086">"smpteSt2086"</a><span>, in § 2.1.5</span>
   <li><a href="#dom-hdrmetadatatype-smptest2086">smpteSt2086</a><span>, in § 2.1.5</span>
   <li><a href="#dom-hdrmetadatatype-smptest2094-10">"smpteSt2094-10"</a><span>, in § 2.1.5</span>
   <li><a href="#dom-hdrmetadatatype-smptest2094-10">smpteSt2094-10</a><span>, in § 2.1.5</span>
   <li><a href="#dom-hdrmetadatatype-smptest2094-40">"smpteSt2094-40"</a><span>, in § 2.1.5</span>
   <li><a href="#dom-hdrmetadatatype-smptest2094-40">smpteSt2094-40</a><span>, in § 2.1.5</span>
   <li><a href="#dom-audioconfiguration-spatialrendering">spatialRendering</a><span>, in § 2.1.8</span>
   <li><a href="#dom-videoconfiguration-spatialscalability">spatialScalability</a><span>, in § 2.1.4</span>
   <li>
    "srgb"
    <ul>
     <li><a href="#dom-colorgamut-srgb">enum-value for ColorGamut</a><span>, in § 2.1.6</span>
     <li><a href="#dom-transferfunction-srgb">enum-value for TransferFunction</a><span>, in § 2.1.7</span>
    </ul>
   <li>
    srgb
    <ul>
     <li><a href="#dom-colorgamut-srgb">enum-value for ColorGamut</a><span>, in § 2.1.6</span>
     <li><a href="#dom-transferfunction-srgb">enum-value for TransferFunction</a><span>, in § 2.1.7</span>
    </ul>
   <li><a href="#dom-mediacapabilitiesinfo-supported">supported</a><span>, in § 2.2</span>
   <li><a href="#enumdef-transferfunction">TransferFunction</a><span>, in § 2.1.7</span>
   <li><a href="#dom-videoconfiguration-transferfunction">transferFunction</a><span>, in § 2.1.4</span>
   <li>
    type
    <ul>
     <li><a href="#dom-mediadecodingconfiguration-type">dict-member for MediaDecodingConfiguration</a><span>, in § 2.1.1</span>
     <li><a href="#dom-mediaencodingconfiguration-type">dict-member for MediaEncodingConfiguration</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#valid-audio-configuration">valid audio configuration</a><span>, in § 2.1.8</span>
   <li><a href="#valid-mediaconfiguration">valid MediaConfiguration</a><span>, in § 2.1.1</span>
   <li><a href="#valid-mediadecodingconfiguration">valid MediaDecodingConfiguration</a><span>, in § 2.1.1</span>
   <li><a href="#valid-video-configuration">valid video configuration</a><span>, in § 2.1.4</span>
   <li>
    video
    <ul>
     <li><a href="#dom-mediacapabilitieskeysystemconfiguration-video">dict-member for MediaCapabilitiesKeySystemConfiguration</a><span>, in § 2.1.9</span>
     <li><a href="#dom-mediaconfiguration-video">dict-member for MediaConfiguration</a><span>, in § 2.1.1</span>
    </ul>
   <li><a href="#dictdef-videoconfiguration">VideoConfiguration</a><span>, in § 2.1.4</span>
   <li>
    "webrtc"
    <ul>
     <li><a href="#dom-mediadecodingtype-webrtc">enum-value for MediaDecodingType</a><span>, in § 2.1.2</span>
     <li><a href="#dom-mediaencodingtype-webrtc">enum-value for MediaEncodingType</a><span>, in § 2.1.3</span>
    </ul>
   <li>
    webrtc
    <ul>
     <li><a href="#dom-mediadecodingtype-webrtc">enum-value for MediaDecodingType</a><span>, in § 2.1.2</span>
     <li><a href="#dom-mediaencodingtype-webrtc">enum-value for MediaEncodingType</a><span>, in § 2.1.3</span>
    </ul>
   <li><a href="#dom-videoconfiguration-width">width</a><span>, in § 2.1.4</span>
  </ul>
  <h3 class="heading no-num no-ref settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="85394472">Document</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="06137087">the current Realm Record</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ENCRYPTED-MEDIA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bbbebb96">MediaKeySystemAccess</span>
     <li><span class="dfn-paneled" id="2048227b">MediaKeySystemConfiguration</span>
     <li><span class="dfn-paneled" id="ba35850e">MediaKeySystemMediaCapability</span>
     <li><span class="dfn-paneled" id="6e8218cd">MediaKeys</span>
     <li><span class="dfn-paneled" id="e14cb0ba">MediaKeysRequirement</span>
     <li><span class="dfn-paneled" id="22dce30e">audioCapabilities</span>
     <li><span class="dfn-paneled" id="6ab470b7">contentType</span>
     <li><span class="dfn-paneled" id="cd139dd2">distinctiveIdentifier</span>
     <li><span class="dfn-paneled" id="76b99f34">encryptionScheme</span>
     <li><span class="dfn-paneled" id="01989c7c">Get Supported Configuration</span>
     <li><span class="dfn-paneled" id="e5f8eccd">initDataTypes</span>
     <li><span class="dfn-paneled" id="4a1f8805">Key System</span>
     <li><span class="dfn-paneled" id="a159903c">keySystem</span>
     <li><span class="dfn-paneled" id="007f79a1">persistentState</span>
     <li><span class="dfn-paneled" id="fa431459">requestMediaKeySystemAccess()</span>
     <li><span class="dfn-paneled" id="20d9fa0e">robustness</span>
     <li><span class="dfn-paneled" id="46fc1f8a">sessionTypes</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
     <li><span class="dfn-paneled" id="83c59a3a">WorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="a4785085">WorkerNavigator</span>
     <li><span class="dfn-paneled" id="4b6086d7">global object</span>
     <li><span class="dfn-paneled" id="168f1b6e">global object <small>(for realm)</small></span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="5155c2d3">non-secure context</span>
     <li><span class="dfn-paneled" id="086e3aff">origin</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1243a891">exist</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIA-SOURCE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5dc5df37">MediaSource</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIASTREAM-RECORDING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="63e5d430">MediaRecorder</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MIMESNIFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="16785ec4">MIME type</span>
     <li><span class="dfn-paneled" id="7b6aef50">MIME type record</span>
     <li><span class="dfn-paneled" id="d72dabca">parse a MIME type</span>
     <li><span class="dfn-paneled" id="bcbbe7d9">supported by the user agent</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="c807e273">NewObject</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
     <li><span class="dfn-paneled" id="f14b47b8">unsigned long long</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBRTC]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7c983b6d">RTCPeerConnection</span>
     <li><span class="dfn-paneled" id="6e9c35f7">setParameters()</span>
    </ul>
  </ul>
  <h2 class="heading no-num no-ref settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="heading no-num no-ref settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-encrypted-media">[ENCRYPTED-MEDIA]
   <dd>Joey Parrish; Greg Freedman. <a href="https://w3c.github.io/encrypted-media/"><cite>Encrypted Media Extensions</cite></a>. URL: <a href="https://w3c.github.io/encrypted-media/">https://w3c.github.io/encrypted-media/</a>
   <dt id="biblio-encrypted-media-draft">[ENCRYPTED-MEDIA-DRAFT]
   <dd><a href="https://w3c.github.io/encrypted-media"><cite>Encrypted Media Extensions</cite></a>. 13 December 2019. URL: <a href="https://w3c.github.io/encrypted-media">https://w3c.github.io/encrypted-media</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-media-source">[MEDIA-SOURCE]
   <dd>Jean-Yves Avenard; Mark Watson. <a href="https://w3c.github.io/media-source/"><cite>Media Source Extensions™</cite></a>. URL: <a href="https://w3c.github.io/media-source/">https://w3c.github.io/media-source/</a>
   <dt id="biblio-mimesniff">[MIMESNIFF]
   <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-smpte-st-2084">[SMPTE-ST-2084]
   <dd><a href="https://ieeexplore.ieee.org/document/7291452"><cite>High Dynamic Range Electro-Optical Transfer Function of Mastering Reference Displays</cite></a>. 2014. URL: <a href="https://ieeexplore.ieee.org/document/7291452">https://ieeexplore.ieee.org/document/7291452</a>
   <dt id="biblio-smpte-st-2086">[SMPTE-ST-2086]
   <dd><a href="https://ieeexplore.ieee.org/document/7291707"><cite>Mastering Display Color Volume Metadata Supporting High Luminance and Wide Color Gamut Images</cite></a>. 2014. URL: <a href="https://ieeexplore.ieee.org/document/7291707">https://ieeexplore.ieee.org/document/7291707</a>
   <dt id="biblio-smpte-st-2094">[SMPTE-ST-2094]
   <dd><a href="https://ieeexplore.ieee.org/document/7513361"><cite>Dynamic Metadata for Color Volume Transform Core Components</cite></a>. 2016. URL: <a href="https://ieeexplore.ieee.org/document/7513361">https://ieeexplore.ieee.org/document/7513361</a>
   <dt id="biblio-srgb">[sRGB]
   <dd><a href="https://webstore.iec.ch/publication/6169"><cite>Multimedia systems and equipment - Colour measurement and management - Part 2-1: Colour management - Default RGB colour space - sRGB</cite></a>. URL: <a href="https://webstore.iec.ch/publication/6169">https://webstore.iec.ch/publication/6169</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webrtc">[WEBRTC]
   <dd>Cullen Jennings; et al. <a href="https://w3c.github.io/webrtc-pc/"><cite>WebRTC: Real-Time Communication in Browsers</cite></a>. URL: <a href="https://w3c.github.io/webrtc-pc/">https://w3c.github.io/webrtc-pc/</a>
  </dl>
  <h3 class="heading no-num no-ref settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-iana-media-types">[IANA-MEDIA-TYPES]
   <dd><a href="https://www.iana.org/assignments/media-types/"><cite>Media Types</cite></a>. URL: <a href="https://www.iana.org/assignments/media-types/">https://www.iana.org/assignments/media-types/</a>
   <dt id="biblio-mediastream-recording">[MEDIASTREAM-RECORDING]
   <dd>Miguel Casas-sanchez. <a href="https://w3c.github.io/mediacapture-record/"><cite>MediaStream Recording</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-record/">https://w3c.github.io/mediacapture-record/</a>
   <dt id="biblio-rfc6838">[RFC6838]
   <dd>N. Freed; J. Klensin; T. Hansen. <a href="https://www.rfc-editor.org/rfc/rfc6838"><cite>Media Type Specifications and Registration Procedures</cite></a>. January 2013. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc6838">https://www.rfc-editor.org/rfc/rfc6838</a>
   <dt id="biblio-rfc9110">[RFC9110]
   <dd>R. Fielding, Ed.; M. Nottingham, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc9110.html"><cite>HTTP Semantics</cite></a>. June 2022. Internet Standard. URL: <a href="https://httpwg.org/specs/rfc9110.html">https://httpwg.org/specs/rfc9110.html</a>
   <dt id="biblio-webrtc-svc">[WEBRTC-SVC]
   <dd>Bernard Aboba. <a href="https://w3c.github.io/webrtc-svc/"><cite>Scalable Video Coding (SVC) Extension for WebRTC</cite></a>. URL: <a href="https://w3c.github.io/webrtc-svc/">https://w3c.github.io/webrtc-svc/</a>
  </dl>
  <h2 class="heading no-num no-ref settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="def highlight idl"><c- b>dictionary</c-> <a href="#dictdef-mediaconfiguration"><code><c- g>MediaConfiguration</c-></code></a> {
  <a data-link-type="idl-name" href="#dictdef-videoconfiguration"><c- n>VideoConfiguration</c-></a> <a data-type="VideoConfiguration" href="#dom-mediaconfiguration-video"><code><c- g>video</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-audioconfiguration"><c- n>AudioConfiguration</c-></a> <a data-type="AudioConfiguration" href="#dom-mediaconfiguration-audio"><code><c- g>audio</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-mediadecodingconfiguration"><code><c- g>MediaDecodingConfiguration</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-mediaconfiguration"><c- n>MediaConfiguration</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-mediadecodingtype"><c- n>MediaDecodingType</c-></a> <a data-type="MediaDecodingType" href="#dom-mediadecodingconfiguration-type"><code><c- g>type</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-mediacapabilitieskeysystemconfiguration"><c- n>MediaCapabilitiesKeySystemConfiguration</c-></a> <a data-type="MediaCapabilitiesKeySystemConfiguration" href="#dom-mediadecodingconfiguration-keysystemconfiguration"><code><c- g>keySystemConfiguration</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-mediaencodingconfiguration"><code><c- g>MediaEncodingConfiguration</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-mediaconfiguration"><c- n>MediaConfiguration</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-mediaencodingtype"><c- n>MediaEncodingType</c-></a> <a data-type="MediaEncodingType" href="#dom-mediaencodingconfiguration-type"><code><c- g>type</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-mediadecodingtype"><code><c- g>MediaDecodingType</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediadecodingtype-file"><c- s>"file"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediadecodingtype-media-source"><c- s>"media-source"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediadecodingtype-webrtc"><c- s>"webrtc"</c-></a>
};

<c- b>enum</c-> <a href="#enumdef-mediaencodingtype"><code><c- g>MediaEncodingType</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediaencodingtype-record"><c- s>"record"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-mediaencodingtype-webrtc"><c- s>"webrtc"</c-></a>
};

<c- b>dictionary</c-> <a href="#dictdef-videoconfiguration"><code><c- g>VideoConfiguration</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-videoconfiguration-contenttype"><c- g>contentType</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-videoconfiguration-width"><c- g>width</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-videoconfiguration-height"><c- g>height</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-videoconfiguration-bitrate"><c- g>bitrate</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="double" href="#dom-videoconfiguration-framerate"><c- g>framerate</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-videoconfiguration-hasalphachannel"><c- g>hasAlphaChannel</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-hdrmetadatatype"><c- n>HdrMetadataType</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="HdrMetadataType" href="#dom-videoconfiguration-hdrmetadatatype"><c- g>hdrMetadataType</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-colorgamut"><c- n>ColorGamut</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="ColorGamut" href="#dom-videoconfiguration-colorgamut"><c- g>colorGamut</c-></a>;
  <a data-link-type="idl-name" href="#enumdef-transferfunction"><c- n>TransferFunction</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="TransferFunction" href="#dom-videoconfiguration-transferfunction"><c- g>transferFunction</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-videoconfiguration-scalabilitymode"><c- g>scalabilityMode</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-videoconfiguration-spatialscalability"><c- g>spatialScalability</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-hdrmetadatatype"><code><c- g>HdrMetadataType</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-hdrmetadatatype-smptest2086"><c- s>"smpteSt2086"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-hdrmetadatatype-smptest2094-10"><c- s>"smpteSt2094-10"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-hdrmetadatatype-smptest2094-40"><c- s>"smpteSt2094-40"</c-></a>
};

<c- b>enum</c-> <a href="#enumdef-colorgamut"><code><c- g>ColorGamut</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-colorgamut-srgb"><c- s>"srgb"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-colorgamut-p3"><c- s>"p3"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-colorgamut-rec2020"><c- s>"rec2020"</c-></a>
};

<c- b>enum</c-> <a href="#enumdef-transferfunction"><code><c- g>TransferFunction</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-transferfunction-srgb"><c- s>"srgb"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-transferfunction-pq"><c- s>"pq"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-transferfunction-hlg"><c- s>"hlg"</c-></a>
};

<c- b>dictionary</c-> <a href="#dictdef-audioconfiguration"><code><c- g>AudioConfiguration</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-audioconfiguration-contenttype"><c- g>contentType</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-audioconfiguration-channels"><c- g>channels</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long-long"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long long" href="#dom-audioconfiguration-bitrate"><c- g>bitrate</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="unsigned long" href="#dom-audioconfiguration-samplerate"><c- g>samplerate</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-audioconfiguration-spatialrendering"><c- g>spatialRendering</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-mediacapabilitieskeysystemconfiguration"><code><c- g>MediaCapabilitiesKeySystemConfiguration</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="DOMString" href="#dom-mediacapabilitieskeysystemconfiguration-keysystem"><c- g>keySystem</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString" href="#dom-mediacapabilitieskeysystemconfiguration-initdatatype"><c- g>initDataType</c-></a> = "";
  <a data-link-type="idl-name" href="https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement"><c- n>MediaKeysRequirement</c-></a> <a class="idl-code" data-default="&quot;optional&quot;" data-link-type="dict-member" data-type="MediaKeysRequirement" href="#dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier"><c- g>distinctiveIdentifier</c-></a> = "optional";
  <a data-link-type="idl-name" href="https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement"><c- n>MediaKeysRequirement</c-></a> <a class="idl-code" data-default="&quot;optional&quot;" data-link-type="dict-member" data-type="MediaKeysRequirement" href="#dom-mediacapabilitieskeysystemconfiguration-persistentstate"><c- g>persistentState</c-></a> = "optional";
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="dict-member" data-type="sequence<DOMString>" href="#dom-mediacapabilitieskeysystemconfiguration-sessiontypes"><c- g>sessionTypes</c-></a>;
  <a data-link-type="idl-name" href="#dictdef-keysystemtrackconfiguration"><c- n>KeySystemTrackConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="KeySystemTrackConfiguration" href="#dom-mediacapabilitieskeysystemconfiguration-audio"><c- g>audio</c-></a>;
  <a data-link-type="idl-name" href="#dictdef-keysystemtrackconfiguration"><c- n>KeySystemTrackConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="KeySystemTrackConfiguration" href="#dom-mediacapabilitieskeysystemconfiguration-video"><c- g>video</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-keysystemtrackconfiguration"><code><c- g>KeySystemTrackConfiguration</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-default="&quot;&quot;" data-link-type="dict-member" data-type="DOMString" href="#dom-keysystemtrackconfiguration-robustness"><c- g>robustness</c-></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a class="idl-code" data-default="null" data-link-type="dict-member" data-type="DOMString?" href="#dom-keysystemtrackconfiguration-encryptionscheme"><c- g>encryptionScheme</c-></a> = <c- b>null</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-mediacapabilitiesinfo"><code><c- g>MediaCapabilitiesInfo</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-mediacapabilitiesinfo-supported"><c- g>supported</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-mediacapabilitiesinfo-smooth"><c- g>smooth</c-></a>;
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="boolean" href="#dom-mediacapabilitiesinfo-powerefficient"><c- g>powerEfficient</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-mediacapabilitiesdecodinginfo"><code><c- g>MediaCapabilitiesDecodingInfo</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-mediacapabilitiesinfo"><c- n>MediaCapabilitiesInfo</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess"><c- n>MediaKeySystemAccess</c-></a>? <a class="idl-code" data-link-type="dict-member" data-type="MediaKeySystemAccess?" href="#dom-mediacapabilitiesdecodinginfo-keysystemaccess"><c- g>keySystemAccess</c-></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-mediadecodingconfiguration"><c- n>MediaDecodingConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="MediaDecodingConfiguration" href="#dom-mediacapabilitiesdecodinginfo-configuration"><c- g>configuration</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-mediacapabilitiesencodinginfo"><code><c- g>MediaCapabilitiesEncodingInfo</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-mediacapabilitiesinfo"><c- n>MediaCapabilitiesInfo</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-mediaencodingconfiguration"><c- n>MediaEncodingConfiguration</c-></a> <a class="idl-code" data-link-type="dict-member" data-type="MediaEncodingConfiguration" href="#dom-mediacapabilitiesencodinginfo-configuration"><c- g>configuration</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#mediacapabilities"><c- n>MediaCapabilities</c-></a> <a data-readonly data-type="MediaCapabilities" href="#dom-navigator-mediacapabilities"><code><c- g>mediaCapabilities</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Worker</c->]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator"><c- g>WorkerNavigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#mediacapabilities"><c- n>MediaCapabilities</c-></a> <a data-readonly data-type="MediaCapabilities" href="#dom-workernavigator-mediacapabilities"><code><c- g>mediaCapabilities</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->, <c- n>Worker</c->)]
<c- b>interface</c-> <a href="#mediacapabilities"><code><c- g>MediaCapabilities</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mediacapabilitiesdecodinginfo"><c- n>MediaCapabilitiesDecodingInfo</c-></a>> <a href="#dom-mediacapabilities-decodinginfo"><code><c- g>decodingInfo</c-></code></a>(
      <a data-link-type="idl-name" href="#dictdef-mediadecodingconfiguration"><c- n>MediaDecodingConfiguration</c-></a> <a href="#dom-mediacapabilities-decodinginfo-configuration-configuration"><code><c- g>configuration</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mediacapabilitiesencodinginfo"><c- n>MediaCapabilitiesEncodingInfo</c-></a>> <a href="#dom-mediacapabilities-encodinginfo"><code><c- g>encodingInfo</c-></code></a>(
      <a data-link-type="idl-name" href="#dictdef-mediaencodingconfiguration"><c- n>MediaEncodingConfiguration</c-></a> <a href="#dom-mediacapabilities-encodinginfo-configuration-configuration"><code><c- g>configuration</c-></code></a>);
};

</pre>
  <h2 class="heading no-num no-ref settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue">
        The <code class="idl"><a data-link-type="idl" href="#dom-audioconfiguration-channels">channels</a></code> needs to be defined as a
        <code>double</code> (2.1, 4.1, 5.1, ...), an <code>unsigned short</code>
        (number of channels) or as an <code>enum</code> value. The current
        definition is a placeholder.
       <a class="issue-return" href="#issue-a7738173" title="Jump to section">↵</a></div>
   <div class="issue"> Why does it matter if a single media codec is listed? <a href="https://github.com/w3c/media-capabilities/issues/235">[Issue #235]</a> <a class="issue-return" href="#issue-b19b1a35" title="Jump to section">↵</a></div>
   <div class="issue"> Does this logic apply to <code>webrtc</code>? <a href="https://github.com/w3c/media-capabilities/issues/238">[Issue #238]</a> <a class="issue-return" href="#issue-2ac980d5" title="Jump to section">↵</a></div>
   <div class="issue"> How do we ensure interop in validation steps here? <a href="https://github.com/w3c/media-capabilities/issues/245">[Issue #245]</a> <a class="issue-return" href="#issue-2b9e7d5d" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"007f79a1": {"dfnID":"007f79a1","dfnText":"persistentState","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-persistentstate"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-persistentstate\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-persistentstate"},
"01989c7c": {"dfnID":"01989c7c","dfnText":"Get Supported Configuration","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-get-supported-configuration"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dfn-get-supported-configuration"},
"06137087": {"dfnID":"06137087","dfnText":"the current Realm Record","external":true,"refSections":[{"refs":[{"id":"ref-for-current-realm"}],"title":"2.5.1. Media Capabilities Task Source"}],"url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#current-realm"},
"086e3aff": {"dfnID":"086e3aff","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-origin"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"},
"1243a891": {"dfnID":"1243a891","dfnText":"exist","external":true,"refSections":[{"refs":[{"id":"ref-for-map-exists"},{"id":"ref-for-map-exists\u2460"},{"id":"ref-for-map-exists\u2461"},{"id":"ref-for-map-exists\u2462"},{"id":"ref-for-map-exists\u2463"},{"id":"ref-for-map-exists\u2464"},{"id":"ref-for-map-exists\u2465"},{"id":"ref-for-map-exists\u2466"},{"id":"ref-for-map-exists\u2467"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-map-exists\u2468"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-map-exists\u2460\u24ea"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-map-exists\u2460\u2460"},{"id":"ref-for-map-exists\u2460\u2461"},{"id":"ref-for-map-exists\u2460\u2462"},{"id":"ref-for-map-exists\u2460\u2463"},{"id":"ref-for-map-exists\u2460\u2464"},{"id":"ref-for-map-exists\u2460\u2465"},{"id":"ref-for-map-exists\u2460\u2466"}],"title":"2.3.5. Check Encrypted Decoding Support"},{"refs":[{"id":"ref-for-map-exists\u2460\u2467"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://infra.spec.whatwg.org/#map-exists"},
"16785ec4": {"dfnID":"16785ec4","dfnText":"MIME type","external":true,"refSections":[{"refs":[{"id":"ref-for-mime-type"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-mime-type\u2460"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-mime-type\u2461"}],"title":"2.3.3. Check MIME Type Validity"},{"refs":[{"id":"ref-for-mime-type\u2462"}],"title":"2.3.4. Check MIME Type Support"}],"url":"https://mimesniff.spec.whatwg.org/#mime-type"},
"168f1b6e": {"dfnID":"168f1b6e","dfnText":"global object (for realm)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-realm-global"}],"title":"2.5.1. Media Capabilities Task Source"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"},
"2048227b": {"dfnID":"2048227b","dfnText":"MediaKeySystemConfiguration","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration"},
"20d9fa0e": {"dfnID":"20d9fa0e","dfnText":"robustness","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemmediacapability-robustness"}],"title":"2.1.10. \n      KeySystemTrackConfiguration\n    "},{"refs":[{"id":"ref-for-dom-mediakeysystemmediacapability-robustness\u2460"},{"id":"ref-for-dom-mediakeysystemmediacapability-robustness\u2461"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-robustness"},
"22dce30e": {"dfnID":"22dce30e","dfnText":"audioCapabilities","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-audiocapabilities"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-audiocapabilities"},
"46fc1f8a": {"dfnID":"46fc1f8a","dfnText":"sessionTypes","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-sessiontypes"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-sessiontypes\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-sessiontypes"},
"48438eb3": {"dfnID":"48438eb3","dfnText":"queue a global task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-global-task"}],"title":"2.5.1. Media Capabilities Task Source"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"4a1f8805": {"dfnID":"4a1f8805","dfnText":"Key System","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-key-system"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dfn-key-system"},
"4b6086d7": {"dfnID":"4b6086d7","dfnText":"global object","external":true,"refSections":[{"refs":[{"id":"ref-for-global-object"},{"id":"ref-for-global-object\u2460"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#global-object"},
"5155c2d3": {"dfnID":"5155c2d3","dfnText":"non-secure context","external":true,"refSections":[{"refs":[{"id":"ref-for-non-secure-context"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"},
"5372cca8": {"dfnID":"5372cca8","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-boolean"},{"id":"ref-for-idl-boolean\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-idl-boolean\u2461"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-idl-boolean\u2462"},{"id":"ref-for-idl-boolean\u2463"},{"id":"ref-for-idl-boolean\u2464"}],"title":"2.2. Media Capabilities Information"}],"url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"5dc5df37": {"dfnID":"5dc5df37","dfnText":"MediaSource","external":true,"refSections":[{"refs":[{"id":"ref-for-mediasource"},{"id":"ref-for-mediasource\u2460"}],"title":"2.1.2. MediaDecodingType"}],"url":"https://www.w3.org/TR/media-source/#mediasource"},
"63e5d430": {"dfnID":"63e5d430","dfnText":"MediaRecorder","external":true,"refSections":[{"refs":[{"id":"ref-for-mediarecorder"}],"title":"2.1.3. MediaEncodingType"}],"url":"https://www.w3.org/TR/mediastream-recording/#mediarecorder"},
"6ab470b7": {"dfnID":"6ab470b7","dfnText":"contentType","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemmediacapability-contenttype"},{"id":"ref-for-dom-mediakeysystemmediacapability-contenttype\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-contenttype"},
"6e8218cd": {"dfnID":"6e8218cd","dfnText":"MediaKeys","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeys"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediakeys\u2460"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeys"},
"6e9c35f7": {"dfnID":"6e9c35f7","dfnText":"setParameters()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcrtpsender-setparameters"}],"title":"2.1.4. VideoConfiguration"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters"},
"76b99f34": {"dfnID":"76b99f34","dfnText":"encryptionScheme","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemmediacapability-encryptionscheme"}],"title":"2.1.10. \n      KeySystemTrackConfiguration\n    "},{"refs":[{"id":"ref-for-dom-mediakeysystemmediacapability-encryptionscheme\u2460"},{"id":"ref-for-dom-mediakeysystemmediacapability-encryptionscheme\u2461"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-encryptionscheme"},
"797018a7": {"dfnID":"797018a7","dfnText":"InvalidStateError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidstateerror"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"7b6aef50": {"dfnID":"7b6aef50","dfnText":"MIME type record","external":true,"refSections":[{"refs":[{"id":"ref-for-mime-type"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-mime-type\u2460"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-mime-type\u2461"}],"title":"2.3.3. Check MIME Type Validity"},{"refs":[{"id":"ref-for-mime-type\u2462"}],"title":"2.3.4. Check MIME Type Support"}],"url":"https://mimesniff.spec.whatwg.org/#mime-type"},
"7c983b6d": {"dfnID":"7c983b6d","dfnText":"RTCPeerConnection","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-rtcpeerconnection"},{"id":"ref-for-dom-rtcpeerconnection\u2460"}],"title":"2.1.2. MediaDecodingType"},{"refs":[{"id":"ref-for-dom-rtcpeerconnection\u2461"}],"title":"2.1.3. MediaEncodingType"}],"url":"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection"},
"82ca3efc": {"dfnID":"82ca3efc","dfnText":"TypeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-typeerror"}],"title":"2.5.2. decodingInfo() Method"},{"refs":[{"id":"ref-for-exceptiondef-typeerror\u2460"}],"title":"2.5.3. encodingInfo() Method"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"83c59a3a": {"dfnID":"83c59a3a","dfnText":"WorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-workerglobalscope"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"},
"85394472": {"dfnID":"85394472","dfnText":"Document","external":true,"refSections":[{"refs":[{"id":"ref-for-document"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://dom.spec.whatwg.org/#document"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"},{"id":"ref-for-idl-DOMString\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-idl-DOMString\u2461"},{"id":"ref-for-idl-DOMString\u2462"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-idl-DOMString\u2463"},{"id":"ref-for-idl-DOMString\u2464"},{"id":"ref-for-idl-DOMString\u2465"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-idl-DOMString\u2466"},{"id":"ref-for-idl-DOMString\u2467"}],"title":"2.1.10. \n      KeySystemTrackConfiguration\n    "}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"},{"id":"ref-for-Exposed\u2460"}],"title":"2.4. Navigator and WorkerNavigator extension"},{"refs":[{"id":"ref-for-Exposed\u2461"}],"title":"2.5. Media Capabilities Interface"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8c800cdf": {"dfnID":"8c800cdf","dfnText":"double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-double"}],"title":"2.1.4. VideoConfiguration"}],"url":"https://webidl.spec.whatwg.org/#idl-double"},
"9c4c1e66": {"dfnID":"9c4c1e66","dfnText":"relevant settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-relevant-settings-object"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"a159903c": {"dfnID":"a159903c","dfnText":"keySystem","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemaccess-keysystem"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-dom-mediakeysystemaccess-keysystem\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess-keysystem"},
"a4785085": {"dfnID":"a4785085","dfnText":"WorkerNavigator","external":true,"refSections":[{"refs":[{"id":"ref-for-workernavigator"}],"title":"2.4. Navigator and WorkerNavigator extension"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workernavigator"},
"a5c91173": {"dfnID":"a5c91173","dfnText":"SameObject","external":true,"refSections":[{"refs":[{"id":"ref-for-SameObject"},{"id":"ref-for-SameObject\u2460"}],"title":"2.4. Navigator and WorkerNavigator extension"}],"url":"https://webidl.spec.whatwg.org/#SameObject"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"}],"title":"2.5.2. decodingInfo() Method"},{"refs":[{"id":"ref-for-in-parallel\u2460"}],"title":"2.5.3. encodingInfo() Method"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"abstract-opdef-check-encrypted-decoding-support": {"dfnID":"abstract-opdef-check-encrypted-decoding-support","dfnText":"Check Encrypted Decoding Support","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-check-encrypted-decoding-support"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-abstract-opdef-check-encrypted-decoding-support\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"#abstract-opdef-check-encrypted-decoding-support"},
"abstract-opdef-check-mime-type-support": {"dfnID":"abstract-opdef-check-mime-type-support","dfnText":"Check MIME Type Support","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-check-mime-type-support"},{"id":"ref-for-abstract-opdef-check-mime-type-support\u2460"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-abstract-opdef-check-mime-type-support\u2461"},{"id":"ref-for-abstract-opdef-check-mime-type-support\u2462"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-abstract-opdef-check-mime-type-support\u2463"}],"title":"2.3.4. Check MIME Type Support"}],"url":"#abstract-opdef-check-mime-type-support"},
"abstract-opdef-check-mime-type-validity": {"dfnID":"abstract-opdef-check-mime-type-validity","dfnText":"Check MIME Type Validity","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-check-mime-type-validity"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-abstract-opdef-check-mime-type-validity\u2460"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-abstract-opdef-check-mime-type-validity\u2461"}],"title":"2.3.3. Check MIME Type Validity"}],"url":"#abstract-opdef-check-mime-type-validity"},
"abstract-opdef-create-a-mediacapabilitiesdecodinginfo": {"dfnID":"abstract-opdef-create-a-mediacapabilitiesdecodinginfo","dfnText":"Create a MediaCapabilitiesDecodingInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-create-a-mediacapabilitiesdecodinginfo"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-abstract-opdef-create-a-mediacapabilitiesdecodinginfo\u2460"}],"title":"2.5.2. decodingInfo() Method"}],"url":"#abstract-opdef-create-a-mediacapabilitiesdecodinginfo"},
"abstract-opdef-create-a-mediacapabilitiesencodinginfo": {"dfnID":"abstract-opdef-create-a-mediacapabilitiesencodinginfo","dfnText":"Create a MediaCapabilitiesEncodingInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-create-a-mediacapabilitiesencodinginfo"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-abstract-opdef-create-a-mediacapabilitiesencodinginfo\u2460"}],"title":"2.5.3. encodingInfo() Method"}],"url":"#abstract-opdef-create-a-mediacapabilitiesencodinginfo"},
"ba35850e": {"dfnID":"ba35850e","dfnText":"MediaKeySystemMediaCapability","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemmediacapability"},{"id":"ref-for-dom-mediakeysystemmediacapability\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability"},
"bbbebb96": {"dfnID":"bbbebb96","dfnText":"MediaKeySystemAccess","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemaccess"},{"id":"ref-for-dom-mediakeysystemaccess\u2460"},{"id":"ref-for-dom-mediakeysystemaccess\u2461"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediakeysystemaccess\u2462"},{"id":"ref-for-dom-mediakeysystemaccess\u2463"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess"},
"bcbbe7d9": {"dfnID":"bcbbe7d9","dfnText":"supported by the user agent","external":true,"refSections":[{"refs":[{"id":"ref-for-supported-by-the-user-agent"},{"id":"ref-for-supported-by-the-user-agent\u2460"}],"title":"2.3.4. Check MIME Type Support"}],"url":"https://mimesniff.spec.whatwg.org/#supported-by-the-user-agent"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"},{"id":"ref-for-idl-promise\u2460"}],"title":"2.5. Media Capabilities Interface"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"be0c27b2": {"dfnID":"be0c27b2","dfnText":"Navigator","external":true,"refSections":[{"refs":[{"id":"ref-for-navigator"}],"title":"2.4. Navigator and WorkerNavigator extension"}],"url":"https://html.spec.whatwg.org/multipage/system-state.html#navigator"},
"c3b2d08c": {"dfnID":"c3b2d08c","dfnText":"task source","external":true,"refSections":[{"refs":[{"id":"ref-for-task-source"}],"title":"2.5.1. Media Capabilities Task Source"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"c3e881ef": {"dfnID":"c3e881ef","dfnText":"SecurityError","external":true,"refSections":[{"refs":[{"id":"ref-for-securityerror"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://webidl.spec.whatwg.org/#securityerror"},
"c807e273": {"dfnID":"c807e273","dfnText":"NewObject","external":true,"refSections":[{"refs":[{"id":"ref-for-NewObject"},{"id":"ref-for-NewObject\u2460"}],"title":"2.5. Media Capabilities Interface"}],"url":"https://webidl.spec.whatwg.org/#NewObject"},
"cd139dd2": {"dfnID":"cd139dd2","dfnText":"distinctiveIdentifier","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-distinctiveidentifier"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-distinctiveidentifier\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-distinctiveidentifier"},
"d72dabca": {"dfnID":"d72dabca","dfnText":"parse a MIME type","external":true,"refSections":[{"refs":[{"id":"ref-for-parse-a-mime-type"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-parse-a-mime-type\u2460"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-parse-a-mime-type\u2461"},{"id":"ref-for-parse-a-mime-type\u2462"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-parse-a-mime-type\u2463"},{"id":"ref-for-parse-a-mime-type\u2464"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"https://mimesniff.spec.whatwg.org/#parse-a-mime-type"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"},{"id":"ref-for-idl-DOMException\u2460"}],"title":"2.5.2. decodingInfo() Method"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"dictdef-audioconfiguration": {"dfnID":"dictdef-audioconfiguration","dfnText":"AudioConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-audioconfiguration"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dictdef-audioconfiguration\u2460"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dictdef-audioconfiguration\u2461"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dictdef-audioconfiguration"},
"dictdef-keysystemtrackconfiguration": {"dfnID":"dictdef-keysystemtrackconfiguration","dfnText":"KeySystemTrackConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-keysystemtrackconfiguration"},{"id":"ref-for-dictdef-keysystemtrackconfiguration\u2460"},{"id":"ref-for-dictdef-keysystemtrackconfiguration\u2461"},{"id":"ref-for-dictdef-keysystemtrackconfiguration\u2462"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dictdef-keysystemtrackconfiguration"},
"dictdef-mediacapabilitiesdecodinginfo": {"dfnID":"dictdef-mediacapabilitiesdecodinginfo","dfnText":"MediaCapabilitiesDecodingInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesdecodinginfo"},{"id":"ref-for-dictdef-mediacapabilitiesdecodinginfo\u2460"},{"id":"ref-for-dictdef-mediacapabilitiesdecodinginfo\u2461"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesdecodinginfo\u2462"},{"id":"ref-for-dictdef-mediacapabilitiesdecodinginfo\u2463"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesdecodinginfo\u2464"}],"title":"2.5. Media Capabilities Interface"}],"url":"#dictdef-mediacapabilitiesdecodinginfo"},
"dictdef-mediacapabilitiesencodinginfo": {"dfnID":"dictdef-mediacapabilitiesencodinginfo","dfnText":"MediaCapabilitiesEncodingInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesencodinginfo"},{"id":"ref-for-dictdef-mediacapabilitiesencodinginfo\u2460"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesencodinginfo\u2461"},{"id":"ref-for-dictdef-mediacapabilitiesencodinginfo\u2462"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesencodinginfo\u2463"}],"title":"2.5. Media Capabilities Interface"}],"url":"#dictdef-mediacapabilitiesencodinginfo"},
"dictdef-mediacapabilitiesinfo": {"dfnID":"dictdef-mediacapabilitiesinfo","dfnText":"MediaCapabilitiesInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediacapabilitiesinfo"},{"id":"ref-for-dictdef-mediacapabilitiesinfo\u2460"},{"id":"ref-for-dictdef-mediacapabilitiesinfo\u2461"},{"id":"ref-for-dictdef-mediacapabilitiesinfo\u2462"}],"title":"2.2. Media Capabilities Information"}],"url":"#dictdef-mediacapabilitiesinfo"},
"dictdef-mediacapabilitieskeysystemconfiguration": {"dfnID":"dictdef-mediacapabilitieskeysystemconfiguration","dfnText":"MediaCapabilitiesKeySystemConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediacapabilitieskeysystemconfiguration"}],"title":"2.1.1. MediaConfiguration"}],"url":"#dictdef-mediacapabilitieskeysystemconfiguration"},
"dictdef-mediaconfiguration": {"dfnID":"dictdef-mediaconfiguration","dfnText":"MediaConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediaconfiguration"},{"id":"ref-for-dictdef-mediaconfiguration\u2460"},{"id":"ref-for-dictdef-mediaconfiguration\u2461"}],"title":"2.1.1. MediaConfiguration"}],"url":"#dictdef-mediaconfiguration"},
"dictdef-mediadecodingconfiguration": {"dfnID":"dictdef-mediadecodingconfiguration","dfnText":"MediaDecodingConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration"},{"id":"ref-for-dictdef-mediadecodingconfiguration\u2460"},{"id":"ref-for-dictdef-mediadecodingconfiguration\u2461"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2462"}],"title":"2.1.2. MediaDecodingType"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2463"},{"id":"ref-for-dictdef-mediadecodingconfiguration\u2464"},{"id":"ref-for-dictdef-mediadecodingconfiguration\u2465"},{"id":"ref-for-dictdef-mediadecodingconfiguration\u2466"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2467"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2468"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2460\u24ea"},{"id":"ref-for-dictdef-mediadecodingconfiguration\u2460\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2460\u2461"}],"title":"2.3.5. Check Encrypted Decoding Support"},{"refs":[{"id":"ref-for-dictdef-mediadecodingconfiguration\u2460\u2462"}],"title":"2.5. Media Capabilities Interface"}],"url":"#dictdef-mediadecodingconfiguration"},
"dictdef-mediaencodingconfiguration": {"dfnID":"dictdef-mediaencodingconfiguration","dfnText":"MediaEncodingConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-mediaencodingconfiguration"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dictdef-mediaencodingconfiguration\u2460"}],"title":"2.1.3. MediaEncodingType"},{"refs":[{"id":"ref-for-dictdef-mediaencodingconfiguration\u2461"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dictdef-mediaencodingconfiguration\u2462"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dictdef-mediaencodingconfiguration\u2463"},{"id":"ref-for-dictdef-mediaencodingconfiguration\u2464"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dictdef-mediaencodingconfiguration\u2465"}],"title":"2.5. Media Capabilities Interface"}],"url":"#dictdef-mediaencodingconfiguration"},
"dictdef-videoconfiguration": {"dfnID":"dictdef-videoconfiguration","dfnText":"VideoConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-videoconfiguration"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dictdef-videoconfiguration\u2460"},{"id":"ref-for-dictdef-videoconfiguration\u2461"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dictdef-videoconfiguration\u2462"}],"title":"2.1.5. HdrMetadataType"},{"refs":[{"id":"ref-for-dictdef-videoconfiguration\u2463"}],"title":"2.1.6. ColorGamut"},{"refs":[{"id":"ref-for-dictdef-videoconfiguration\u2464"}],"title":"2.1.7. TransferFunction"},{"refs":[{"id":"ref-for-dictdef-videoconfiguration\u2465"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dictdef-videoconfiguration"},
"dom-audioconfiguration-bitrate": {"dfnID":"dom-audioconfiguration-bitrate","dfnText":"bitrate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-audioconfiguration-bitrate"}],"title":"2.1.8. AudioConfiguration"}],"url":"#dom-audioconfiguration-bitrate"},
"dom-audioconfiguration-channels": {"dfnID":"dom-audioconfiguration-channels","dfnText":"channels","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-audioconfiguration-channels"},{"id":"ref-for-dom-audioconfiguration-channels\u2460"}],"title":"2.1.8. AudioConfiguration"}],"url":"#dom-audioconfiguration-channels"},
"dom-audioconfiguration-contenttype": {"dfnID":"dom-audioconfiguration-contenttype","dfnText":"contentType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-audioconfiguration-contenttype"},{"id":"ref-for-dom-audioconfiguration-contenttype\u2460"},{"id":"ref-for-dom-audioconfiguration-contenttype\u2461"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dom-audioconfiguration-contenttype\u2462"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-audioconfiguration-contenttype\u2463"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-audioconfiguration-contenttype"},
"dom-audioconfiguration-samplerate": {"dfnID":"dom-audioconfiguration-samplerate","dfnText":"samplerate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-audioconfiguration-samplerate"},{"id":"ref-for-dom-audioconfiguration-samplerate\u2460"}],"title":"2.1.8. AudioConfiguration"}],"url":"#dom-audioconfiguration-samplerate"},
"dom-audioconfiguration-spatialrendering": {"dfnID":"dom-audioconfiguration-spatialrendering","dfnText":"spatialRendering","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-audioconfiguration-spatialrendering"},{"id":"ref-for-dom-audioconfiguration-spatialrendering\u2460"}],"title":"2.1.8. AudioConfiguration"}],"url":"#dom-audioconfiguration-spatialrendering"},
"dom-colorgamut-p3": {"dfnID":"dom-colorgamut-p3","dfnText":"p3","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-colorgamut-p3"},{"id":"ref-for-dom-colorgamut-p3\u2460"}],"title":"2.1.6. ColorGamut"}],"url":"#dom-colorgamut-p3"},
"dom-colorgamut-rec2020": {"dfnID":"dom-colorgamut-rec2020","dfnText":"rec2020","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-colorgamut-rec2020"}],"title":"2.1.6. ColorGamut"}],"url":"#dom-colorgamut-rec2020"},
"dom-colorgamut-srgb": {"dfnID":"dom-colorgamut-srgb","dfnText":"srgb","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-colorgamut-srgb"},{"id":"ref-for-dom-colorgamut-srgb\u2460"}],"title":"2.1.6. ColorGamut"}],"url":"#dom-colorgamut-srgb"},
"dom-hdrmetadatatype-smptest2086": {"dfnID":"dom-hdrmetadatatype-smptest2086","dfnText":"smpteSt2086","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-hdrmetadatatype-smptest2086"}],"title":"2.1.5. HdrMetadataType"}],"url":"#dom-hdrmetadatatype-smptest2086"},
"dom-hdrmetadatatype-smptest2094-10": {"dfnID":"dom-hdrmetadatatype-smptest2094-10","dfnText":"smpteSt2094-10","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-hdrmetadatatype-smptest2094-10"}],"title":"2.1.5. HdrMetadataType"}],"url":"#dom-hdrmetadatatype-smptest2094-10"},
"dom-hdrmetadatatype-smptest2094-40": {"dfnID":"dom-hdrmetadatatype-smptest2094-40","dfnText":"smpteSt2094-40","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-hdrmetadatatype-smptest2094-40"}],"title":"2.1.5. HdrMetadataType"}],"url":"#dom-hdrmetadatatype-smptest2094-40"},
"dom-keysystemtrackconfiguration-encryptionscheme": {"dfnID":"dom-keysystemtrackconfiguration-encryptionscheme","dfnText":"encryptionScheme","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-keysystemtrackconfiguration-encryptionscheme"}],"title":"2.1.10. \n      KeySystemTrackConfiguration\n    "}],"url":"#dom-keysystemtrackconfiguration-encryptionscheme"},
"dom-keysystemtrackconfiguration-robustness": {"dfnID":"dom-keysystemtrackconfiguration-robustness","dfnText":"robustness","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-keysystemtrackconfiguration-robustness"}],"title":"2.1.10. \n      KeySystemTrackConfiguration\n    "}],"url":"#dom-keysystemtrackconfiguration-robustness"},
"dom-mediacapabilities-decodinginfo": {"dfnID":"dom-mediacapabilities-decodinginfo","dfnText":"decodingInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilities-decodinginfo"},{"id":"ref-for-dom-mediacapabilities-decodinginfo\u2460"}],"title":"2.5.2. decodingInfo() Method"},{"refs":[{"id":"ref-for-dom-mediacapabilities-decodinginfo\u2461"},{"id":"ref-for-dom-mediacapabilities-decodinginfo\u2462"},{"id":"ref-for-dom-mediacapabilities-decodinginfo\u2463"}],"title":"4.1. Query playback capabilities with decodingInfo()"}],"url":"#dom-mediacapabilities-decodinginfo"},
"dom-mediacapabilities-decodinginfo-configuration-configuration": {"dfnID":"dom-mediacapabilities-decodinginfo-configuration-configuration","dfnText":"configuration","external":false,"refSections":[],"url":"#dom-mediacapabilities-decodinginfo-configuration-configuration"},
"dom-mediacapabilities-encodinginfo": {"dfnID":"dom-mediacapabilities-encodinginfo","dfnText":"encodingInfo","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilities-encodinginfo"}],"title":"2.5.3. encodingInfo() Method"},{"refs":[{"id":"ref-for-dom-mediacapabilities-encodinginfo\u2460"},{"id":"ref-for-dom-mediacapabilities-encodinginfo\u2461"}],"title":"4.2. Query recording capabilities with encodingInfo()"}],"url":"#dom-mediacapabilities-encodinginfo"},
"dom-mediacapabilities-encodinginfo-configuration-configuration": {"dfnID":"dom-mediacapabilities-encodinginfo-configuration-configuration","dfnText":"configuration","external":false,"refSections":[],"url":"#dom-mediacapabilities-encodinginfo-configuration-configuration"},
"dom-mediacapabilitiesdecodinginfo-configuration": {"dfnID":"dom-mediacapabilitiesdecodinginfo-configuration","dfnText":"configuration","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-configuration"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-configuration\u2460"},{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-configuration\u2461"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-mediacapabilitiesdecodinginfo-configuration"},
"dom-mediacapabilitiesdecodinginfo-keysystemaccess": {"dfnID":"dom-mediacapabilitiesdecodinginfo-keysystemaccess","dfnText":"keySystemAccess","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess\u2460"},{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess\u2461"},{"id":"ref-for-dom-mediacapabilitiesdecodinginfo-keysystemaccess\u2462"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-mediacapabilitiesdecodinginfo-keysystemaccess"},
"dom-mediacapabilitiesencodinginfo-configuration": {"dfnID":"dom-mediacapabilitiesencodinginfo-configuration","dfnText":"configuration","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitiesencodinginfo-configuration"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesencodinginfo-configuration\u2460"},{"id":"ref-for-dom-mediacapabilitiesencodinginfo-configuration\u2461"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"}],"url":"#dom-mediacapabilitiesencodinginfo-configuration"},
"dom-mediacapabilitiesinfo-powerefficient": {"dfnID":"dom-mediacapabilitiesinfo-powerefficient","dfnText":"powerEfficient","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-powerefficient"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-powerefficient\u2460"},{"id":"ref-for-dom-mediacapabilitiesinfo-powerefficient\u2461"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-powerefficient\u2462"},{"id":"ref-for-dom-mediacapabilitiesinfo-powerefficient\u2463"},{"id":"ref-for-dom-mediacapabilitiesinfo-powerefficient\u2464"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-mediacapabilitiesinfo-powerefficient"},
"dom-mediacapabilitiesinfo-smooth": {"dfnID":"dom-mediacapabilitiesinfo-smooth","dfnText":"smooth","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-smooth"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-smooth\u2460"},{"id":"ref-for-dom-mediacapabilitiesinfo-smooth\u2461"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-smooth\u2462"},{"id":"ref-for-dom-mediacapabilitiesinfo-smooth\u2463"},{"id":"ref-for-dom-mediacapabilitiesinfo-smooth\u2464"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-mediacapabilitiesinfo-smooth"},
"dom-mediacapabilitiesinfo-supported": {"dfnID":"dom-mediacapabilitiesinfo-supported","dfnText":"supported","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-supported"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2460"}],"title":"2.2. Media Capabilities Information"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2461"},{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2462"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2463"},{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2464"},{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2465"},{"id":"ref-for-dom-mediacapabilitiesinfo-supported\u2466"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-mediacapabilitiesinfo-supported"},
"dom-mediacapabilitieskeysystemconfiguration-audio": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-audio","dfnText":"audio","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-audio"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dom-mediacapabilitieskeysystemconfiguration-audio"},
"dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier","dfnText":"distinctiveIdentifier","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier"},
"dom-mediacapabilitieskeysystemconfiguration-initdatatype": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-initdatatype","dfnText":"initDataType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-initdatatype"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dom-mediacapabilitieskeysystemconfiguration-initdatatype"},
"dom-mediacapabilitieskeysystemconfiguration-keysystem": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-keysystem","dfnText":"keySystem","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-keysystem"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-keysystem\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"#dom-mediacapabilitieskeysystemconfiguration-keysystem"},
"dom-mediacapabilitieskeysystemconfiguration-persistentstate": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-persistentstate","dfnText":"persistentState","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-persistentstate"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dom-mediacapabilitieskeysystemconfiguration-persistentstate"},
"dom-mediacapabilitieskeysystemconfiguration-sessiontypes": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-sessiontypes","dfnText":"sessionTypes","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-sessiontypes"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dom-mediacapabilitieskeysystemconfiguration-sessiontypes"},
"dom-mediacapabilitieskeysystemconfiguration-video": {"dfnID":"dom-mediacapabilitieskeysystemconfiguration-video","dfnText":"video","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediacapabilitieskeysystemconfiguration-video"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"#dom-mediacapabilitieskeysystemconfiguration-video"},
"dom-mediaconfiguration-audio": {"dfnID":"dom-mediaconfiguration-audio","dfnText":"audio","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediaconfiguration-audio"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-mediaconfiguration-audio\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-dom-mediaconfiguration-audio\u2461"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"#dom-mediaconfiguration-audio"},
"dom-mediaconfiguration-video": {"dfnID":"dom-mediaconfiguration-video","dfnText":"video","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediaconfiguration-video"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-mediaconfiguration-video\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-dom-mediaconfiguration-video\u2461"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"#dom-mediaconfiguration-video"},
"dom-mediadecodingconfiguration-keysystemconfiguration": {"dfnID":"dom-mediadecodingconfiguration-keysystemconfiguration","dfnText":"keySystemConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediadecodingconfiguration-keysystemconfiguration"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingconfiguration-keysystemconfiguration\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"},{"refs":[{"id":"ref-for-dom-mediadecodingconfiguration-keysystemconfiguration\u2461"}],"title":"2.5.2. decodingInfo() Method"}],"url":"#dom-mediadecodingconfiguration-keysystemconfiguration"},
"dom-mediadecodingconfiguration-type": {"dfnID":"dom-mediadecodingconfiguration-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediadecodingconfiguration-type"},{"id":"ref-for-dom-mediadecodingconfiguration-type\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-mediadecodingconfiguration-type"},
"dom-mediadecodingtype-file": {"dfnID":"dom-mediadecodingtype-file","dfnText":"file","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediadecodingtype-file"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-file\u2460"}],"title":"2.1.2. MediaDecodingType"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-file\u2461"},{"id":"ref-for-dom-mediadecodingtype-file\u2462"},{"id":"ref-for-dom-mediadecodingtype-file\u2463"},{"id":"ref-for-dom-mediadecodingtype-file\u2464"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-file\u2465"},{"id":"ref-for-dom-mediadecodingtype-file\u2466"},{"id":"ref-for-dom-mediadecodingtype-file\u2467"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-file\u2468"}],"title":"3.1. \n        Capabilities Model\n      "}],"url":"#dom-mediadecodingtype-file"},
"dom-mediadecodingtype-media-source": {"dfnID":"dom-mediadecodingtype-media-source","dfnText":"media-source","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediadecodingtype-media-source"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-media-source\u2460"}],"title":"2.1.2. MediaDecodingType"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-media-source\u2461"},{"id":"ref-for-dom-mediadecodingtype-media-source\u2462"},{"id":"ref-for-dom-mediadecodingtype-media-source\u2463"},{"id":"ref-for-dom-mediadecodingtype-media-source\u2464"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-media-source\u2465"},{"id":"ref-for-dom-mediadecodingtype-media-source\u2466"},{"id":"ref-for-dom-mediadecodingtype-media-source\u2467"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-media-source\u2468"}],"title":"3.1. \n        Capabilities Model\n      "}],"url":"#dom-mediadecodingtype-media-source"},
"dom-mediadecodingtype-webrtc": {"dfnID":"dom-mediadecodingtype-webrtc","dfnText":"webrtc","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediadecodingtype-webrtc"}],"title":"2.1.2. MediaDecodingType"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-webrtc\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-webrtc\u2461"},{"id":"ref-for-dom-mediadecodingtype-webrtc\u2462"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-webrtc\u2463"}],"title":"2.3.4. Check MIME Type Support"},{"refs":[{"id":"ref-for-dom-mediadecodingtype-webrtc\u2464"},{"id":"ref-for-dom-mediadecodingtype-webrtc\u2465"}],"title":"3.1. \n        Capabilities Model\n      "}],"url":"#dom-mediadecodingtype-webrtc"},
"dom-mediaencodingconfiguration-type": {"dfnID":"dom-mediaencodingconfiguration-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediaencodingconfiguration-type"},{"id":"ref-for-dom-mediaencodingconfiguration-type\u2460"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"}],"url":"#dom-mediaencodingconfiguration-type"},
"dom-mediaencodingtype-record": {"dfnID":"dom-mediaencodingtype-record","dfnText":"record","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediaencodingtype-record"}],"title":"2.1.3. MediaEncodingType"},{"refs":[{"id":"ref-for-dom-mediaencodingtype-record\u2460"}],"title":"3.1. \n        Capabilities Model\n      "}],"url":"#dom-mediaencodingtype-record"},
"dom-mediaencodingtype-webrtc": {"dfnID":"dom-mediaencodingtype-webrtc","dfnText":"webrtc","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-mediaencodingtype-webrtc"}],"title":"2.1.3. MediaEncodingType"},{"refs":[{"id":"ref-for-dom-mediaencodingtype-webrtc\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-mediaencodingtype-webrtc\u2461"},{"id":"ref-for-dom-mediaencodingtype-webrtc\u2462"}],"title":"2.1.8. AudioConfiguration"},{"refs":[{"id":"ref-for-dom-mediaencodingtype-webrtc\u2463"}],"title":"2.3.4. Check MIME Type Support"}],"url":"#dom-mediaencodingtype-webrtc"},
"dom-navigator-mediacapabilities": {"dfnID":"dom-navigator-mediacapabilities","dfnText":"mediaCapabilities","external":false,"refSections":[],"url":"#dom-navigator-mediacapabilities"},
"dom-transferfunction-hlg": {"dfnID":"dom-transferfunction-hlg","dfnText":"hlg","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-transferfunction-hlg"}],"title":"2.1.7. TransferFunction"}],"url":"#dom-transferfunction-hlg"},
"dom-transferfunction-pq": {"dfnID":"dom-transferfunction-pq","dfnText":"pq","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-transferfunction-pq"}],"title":"2.1.7. TransferFunction"}],"url":"#dom-transferfunction-pq"},
"dom-transferfunction-srgb": {"dfnID":"dom-transferfunction-srgb","dfnText":"srgb","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-transferfunction-srgb"}],"title":"2.1.7. TransferFunction"}],"url":"#dom-transferfunction-srgb"},
"dom-videoconfiguration-bitrate": {"dfnID":"dom-videoconfiguration-bitrate","dfnText":"bitrate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-bitrate"}],"title":"2.1.4. VideoConfiguration"}],"url":"#dom-videoconfiguration-bitrate"},
"dom-videoconfiguration-colorgamut": {"dfnID":"dom-videoconfiguration-colorgamut","dfnText":"colorGamut","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-colorgamut"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-videoconfiguration-colorgamut\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-dom-videoconfiguration-colorgamut\u2461"}],"title":"2.3.4. Check MIME Type Support"},{"refs":[{"id":"ref-for-dom-videoconfiguration-colorgamut\u2462"}],"title":"3.2. \n        Decoding/Encoding and Fingerprinting\n      "}],"url":"#dom-videoconfiguration-colorgamut"},
"dom-videoconfiguration-contenttype": {"dfnID":"dom-videoconfiguration-contenttype","dfnText":"contentType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-contenttype"},{"id":"ref-for-dom-videoconfiguration-contenttype\u2460"},{"id":"ref-for-dom-videoconfiguration-contenttype\u2461"},{"id":"ref-for-dom-videoconfiguration-contenttype\u2462"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-videoconfiguration-contenttype\u2463"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-dom-videoconfiguration-contenttype\u2464"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#dom-videoconfiguration-contenttype"},
"dom-videoconfiguration-framerate": {"dfnID":"dom-videoconfiguration-framerate","dfnText":"framerate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-framerate"},{"id":"ref-for-dom-videoconfiguration-framerate\u2460"}],"title":"2.1.4. VideoConfiguration"}],"url":"#dom-videoconfiguration-framerate"},
"dom-videoconfiguration-hasalphachannel": {"dfnID":"dom-videoconfiguration-hasalphachannel","dfnText":"hasAlphaChannel","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-hasalphachannel"}],"title":"2.1.4. VideoConfiguration"}],"url":"#dom-videoconfiguration-hasalphachannel"},
"dom-videoconfiguration-hdrmetadatatype": {"dfnID":"dom-videoconfiguration-hdrmetadatatype","dfnText":"hdrMetadataType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-hdrmetadatatype"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-videoconfiguration-hdrmetadatatype\u2460"}],"title":"3.2. \n        Decoding/Encoding and Fingerprinting\n      "}],"url":"#dom-videoconfiguration-hdrmetadatatype"},
"dom-videoconfiguration-height": {"dfnID":"dom-videoconfiguration-height","dfnText":"height","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-height"},{"id":"ref-for-dom-videoconfiguration-height\u2460"}],"title":"2.1.4. VideoConfiguration"}],"url":"#dom-videoconfiguration-height"},
"dom-videoconfiguration-scalabilitymode": {"dfnID":"dom-videoconfiguration-scalabilitymode","dfnText":"scalabilityMode","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-scalabilitymode"},{"id":"ref-for-dom-videoconfiguration-scalabilitymode\u2460"},{"id":"ref-for-dom-videoconfiguration-scalabilitymode\u2461"},{"id":"ref-for-dom-videoconfiguration-scalabilitymode\u2462"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-videoconfiguration-scalabilitymode\u2463"}],"title":"4.2. Query recording capabilities with encodingInfo()"}],"url":"#dom-videoconfiguration-scalabilitymode"},
"dom-videoconfiguration-spatialscalability": {"dfnID":"dom-videoconfiguration-spatialscalability","dfnText":"spatialScalability","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-spatialscalability"},{"id":"ref-for-dom-videoconfiguration-spatialscalability\u2460"},{"id":"ref-for-dom-videoconfiguration-spatialscalability\u2461"},{"id":"ref-for-dom-videoconfiguration-spatialscalability\u2462"},{"id":"ref-for-dom-videoconfiguration-spatialscalability\u2463"}],"title":"2.1.4. VideoConfiguration"}],"url":"#dom-videoconfiguration-spatialscalability"},
"dom-videoconfiguration-transferfunction": {"dfnID":"dom-videoconfiguration-transferfunction","dfnText":"transferFunction","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-transferfunction"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-dom-videoconfiguration-transferfunction\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"},{"refs":[{"id":"ref-for-dom-videoconfiguration-transferfunction\u2461"}],"title":"2.3.4. Check MIME Type Support"},{"refs":[{"id":"ref-for-dom-videoconfiguration-transferfunction\u2462"}],"title":"3.2. \n        Decoding/Encoding and Fingerprinting\n      "}],"url":"#dom-videoconfiguration-transferfunction"},
"dom-videoconfiguration-width": {"dfnID":"dom-videoconfiguration-width","dfnText":"width","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-videoconfiguration-width"},{"id":"ref-for-dom-videoconfiguration-width\u2460"}],"title":"2.1.4. VideoConfiguration"}],"url":"#dom-videoconfiguration-width"},
"dom-workernavigator-mediacapabilities": {"dfnID":"dom-workernavigator-mediacapabilities","dfnText":"mediaCapabilities","external":false,"refSections":[],"url":"#dom-workernavigator-mediacapabilities"},
"e14cb0ba": {"dfnID":"e14cb0ba","dfnText":"MediaKeysRequirement","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysrequirement"},{"id":"ref-for-dom-mediakeysrequirement\u2460"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement"},
"e5f8eccd": {"dfnID":"e5f8eccd","dfnText":"initDataTypes","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-initdatatypes"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "},{"refs":[{"id":"ref-for-dom-mediakeysystemconfiguration-initdatatypes\u2460"}],"title":"2.3.5. Check Encrypted Decoding Support"}],"url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-initdatatypes"},
"e97a9688": {"dfnID":"e97a9688","dfnText":"unsigned long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long"},{"id":"ref-for-idl-unsigned-long\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-idl-unsigned-long\u2461"}],"title":"2.1.8. AudioConfiguration"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long"},
"enumdef-colorgamut": {"dfnID":"enumdef-colorgamut","dfnText":"ColorGamut","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-colorgamut"},{"id":"ref-for-enumdef-colorgamut\u2460"}],"title":"2.1.4. VideoConfiguration"}],"url":"#enumdef-colorgamut"},
"enumdef-hdrmetadatatype": {"dfnID":"enumdef-hdrmetadatatype","dfnText":"HdrMetadataType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-hdrmetadatatype"},{"id":"ref-for-enumdef-hdrmetadatatype\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-enumdef-hdrmetadatatype\u2461"}],"title":"2.1.5. HdrMetadataType"}],"url":"#enumdef-hdrmetadatatype"},
"enumdef-mediadecodingtype": {"dfnID":"enumdef-mediadecodingtype","dfnText":"MediaDecodingType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-mediadecodingtype"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-enumdef-mediadecodingtype\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-enumdef-mediadecodingtype\u2461"},{"id":"ref-for-enumdef-mediadecodingtype\u2462"}],"title":"2.3.4. Check MIME Type Support"},{"refs":[{"id":"ref-for-enumdef-mediadecodingtype\u2463"}],"title":"3.1. \n        Capabilities Model\n      "}],"url":"#enumdef-mediadecodingtype"},
"enumdef-mediaencodingtype": {"dfnID":"enumdef-mediaencodingtype","dfnText":"MediaEncodingType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-mediaencodingtype"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-enumdef-mediaencodingtype\u2460"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-enumdef-mediaencodingtype\u2461"},{"id":"ref-for-enumdef-mediaencodingtype\u2462"}],"title":"2.3.4. Check MIME Type Support"},{"refs":[{"id":"ref-for-enumdef-mediaencodingtype\u2463"}],"title":"3.1. \n        Capabilities Model\n      "}],"url":"#enumdef-mediaencodingtype"},
"enumdef-transferfunction": {"dfnID":"enumdef-transferfunction","dfnText":"TransferFunction","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-transferfunction"},{"id":"ref-for-enumdef-transferfunction\u2460"}],"title":"2.1.4. VideoConfiguration"}],"url":"#enumdef-transferfunction"},
"f14b47b8": {"dfnID":"f14b47b8","dfnText":"unsigned long long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long-long"}],"title":"2.1.4. VideoConfiguration"},{"refs":[{"id":"ref-for-idl-unsigned-long-long\u2460"}],"title":"2.1.8. AudioConfiguration"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"fa431459": {"dfnID":"fa431459","dfnText":"requestMediaKeySystemAccess()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-navigator-requestmediakeysystemaccess"}],"title":"2.1.9. \n        MediaCapabilitiesKeySystemConfiguration\n      "}],"url":"https://w3c.github.io/encrypted-media/#dom-navigator-requestmediakeysystemaccess"},
"media-capabilities-task-source": {"dfnID":"media-capabilities-task-source","dfnText":"media capabilities task source","external":false,"refSections":[{"refs":[{"id":"ref-for-media-capabilities-task-source"}],"title":"2.5.1. Media Capabilities Task Source"}],"url":"#media-capabilities-task-source"},
"mediacapabilities": {"dfnID":"mediacapabilities","dfnText":"MediaCapabilities","external":false,"refSections":[{"refs":[{"id":"ref-for-mediacapabilities"},{"id":"ref-for-mediacapabilities\u2460"}],"title":"2.4. Navigator and WorkerNavigator extension"}],"url":"#mediacapabilities"},
"power-efficient": {"dfnID":"power-efficient","dfnText":"power efficient","external":false,"refSections":[{"refs":[{"id":"ref-for-power-efficient"}],"title":"2.3.1. Create a MediaCapabilitiesEncodingInfo"},{"refs":[{"id":"ref-for-power-efficient\u2460"}],"title":"2.3.2. Create a MediaCapabilitiesDecodingInfo"}],"url":"#power-efficient"},
"queue-a-media-capabilities-task": {"dfnID":"queue-a-media-capabilities-task","dfnText":"queues\n      a Media Capabilities task","external":false,"refSections":[{"refs":[{"id":"ref-for-queue-a-media-capabilities-task"}],"title":"2.5.2. decodingInfo() Method"},{"refs":[{"id":"ref-for-queue-a-media-capabilities-task\u2460"}],"title":"2.5.3. encodingInfo() Method"}],"url":"#queue-a-media-capabilities-task"},
"valid-audio-configuration": {"dfnID":"valid-audio-configuration","dfnText":"valid audio configuration","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-audio-configuration"}],"title":"2.1.1. MediaConfiguration"}],"url":"#valid-audio-configuration"},
"valid-mediaconfiguration": {"dfnID":"valid-mediaconfiguration","dfnText":"valid\n        MediaConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-mediaconfiguration"}],"title":"2.1.1. MediaConfiguration"},{"refs":[{"id":"ref-for-valid-mediaconfiguration\u2460"}],"title":"2.5.3. encodingInfo() Method"}],"url":"#valid-mediaconfiguration"},
"valid-mediadecodingconfiguration": {"dfnID":"valid-mediadecodingconfiguration","dfnText":"valid\n        MediaDecodingConfiguration","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-mediadecodingconfiguration"}],"title":"2.5.2. decodingInfo() Method"}],"url":"#valid-mediadecodingconfiguration"},
"valid-video-configuration": {"dfnID":"valid-video-configuration","dfnText":"valid video configuration","external":false,"refSections":[{"refs":[{"id":"ref-for-valid-video-configuration"}],"title":"2.1.1. MediaConfiguration"}],"url":"#valid-video-configuration"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#abstract-opdef-check-encrypted-decoding-support": {"displayText":"Check Encrypted Decoding Support","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"Check Encrypted Decoding Support","type":"abstract-op","url":"#abstract-opdef-check-encrypted-decoding-support"},
"#abstract-opdef-check-mime-type-support": {"displayText":"check MIME type support","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"check MIME type support","type":"abstract-op","url":"#abstract-opdef-check-mime-type-support"},
"#abstract-opdef-check-mime-type-validity": {"displayText":"check MIME type validity","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"check MIME type validity","type":"abstract-op","url":"#abstract-opdef-check-mime-type-validity"},
"#abstract-opdef-create-a-mediacapabilitiesdecodinginfo": {"displayText":"create a MediaCapabilitiesDecodingInfo","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"create a MediaCapabilitiesDecodingInfo","type":"abstract-op","url":"#abstract-opdef-create-a-mediacapabilitiesdecodinginfo"},
"#abstract-opdef-create-a-mediacapabilitiesencodinginfo": {"displayText":"create a MediaCapabilitiesEncodingInfo","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"create a MediaCapabilitiesEncodingInfo","type":"abstract-op","url":"#abstract-opdef-create-a-mediacapabilitiesencodinginfo"},
"#dictdef-audioconfiguration": {"displayText":"AudioConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"AudioConfiguration","type":"dictionary","url":"#dictdef-audioconfiguration"},
"#dictdef-keysystemtrackconfiguration": {"displayText":"KeySystemTrackConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"KeySystemTrackConfiguration","type":"dictionary","url":"#dictdef-keysystemtrackconfiguration"},
"#dictdef-mediacapabilitiesdecodinginfo": {"displayText":"MediaCapabilitiesDecodingInfo","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaCapabilitiesDecodingInfo","type":"dictionary","url":"#dictdef-mediacapabilitiesdecodinginfo"},
"#dictdef-mediacapabilitiesencodinginfo": {"displayText":"MediaCapabilitiesEncodingInfo","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaCapabilitiesEncodingInfo","type":"dictionary","url":"#dictdef-mediacapabilitiesencodinginfo"},
"#dictdef-mediacapabilitiesinfo": {"displayText":"MediaCapabilitiesInfo","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaCapabilitiesInfo","type":"dictionary","url":"#dictdef-mediacapabilitiesinfo"},
"#dictdef-mediacapabilitieskeysystemconfiguration": {"displayText":"MediaCapabilitiesKeySystemConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaCapabilitiesKeySystemConfiguration","type":"dictionary","url":"#dictdef-mediacapabilitieskeysystemconfiguration"},
"#dictdef-mediaconfiguration": {"displayText":"MediaConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaConfiguration","type":"dictionary","url":"#dictdef-mediaconfiguration"},
"#dictdef-mediadecodingconfiguration": {"displayText":"MediaDecodingConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaDecodingConfiguration","type":"dictionary","url":"#dictdef-mediadecodingconfiguration"},
"#dictdef-mediaencodingconfiguration": {"displayText":"MediaEncodingConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaEncodingConfiguration","type":"dictionary","url":"#dictdef-mediaencodingconfiguration"},
"#dictdef-videoconfiguration": {"displayText":"VideoConfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"VideoConfiguration","type":"dictionary","url":"#dictdef-videoconfiguration"},
"#dom-audioconfiguration-bitrate": {"displayText":"bitrate","export":true,"for_":["AudioConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"bitrate","type":"dict-member","url":"#dom-audioconfiguration-bitrate"},
"#dom-audioconfiguration-channels": {"displayText":"channels","export":true,"for_":["AudioConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"channels","type":"dict-member","url":"#dom-audioconfiguration-channels"},
"#dom-audioconfiguration-contenttype": {"displayText":"contentType","export":true,"for_":["AudioConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"contentType","type":"dict-member","url":"#dom-audioconfiguration-contenttype"},
"#dom-audioconfiguration-samplerate": {"displayText":"samplerate","export":true,"for_":["AudioConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"samplerate","type":"dict-member","url":"#dom-audioconfiguration-samplerate"},
"#dom-audioconfiguration-spatialrendering": {"displayText":"spatialRendering","export":true,"for_":["AudioConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"spatialRendering","type":"dict-member","url":"#dom-audioconfiguration-spatialrendering"},
"#dom-colorgamut-p3": {"displayText":"\"p3\"","export":true,"for_":["ColorGamut"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"p3\"","type":"enum-value","url":"#dom-colorgamut-p3"},
"#dom-colorgamut-rec2020": {"displayText":"\"rec2020\"","export":true,"for_":["ColorGamut"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"rec2020\"","type":"enum-value","url":"#dom-colorgamut-rec2020"},
"#dom-colorgamut-srgb": {"displayText":"\"srgb\"","export":true,"for_":["ColorGamut"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"srgb\"","type":"enum-value","url":"#dom-colorgamut-srgb"},
"#dom-hdrmetadatatype-smptest2086": {"displayText":"\"smpteSt2086\"","export":true,"for_":["HdrMetadataType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"smpteSt2086\"","type":"enum-value","url":"#dom-hdrmetadatatype-smptest2086"},
"#dom-hdrmetadatatype-smptest2094-10": {"displayText":"\"smpteSt2094-10\"","export":true,"for_":["HdrMetadataType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"smpteSt2094-10\"","type":"enum-value","url":"#dom-hdrmetadatatype-smptest2094-10"},
"#dom-hdrmetadatatype-smptest2094-40": {"displayText":"\"smpteSt2094-40\"","export":true,"for_":["HdrMetadataType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"smpteSt2094-40\"","type":"enum-value","url":"#dom-hdrmetadatatype-smptest2094-40"},
"#dom-keysystemtrackconfiguration-encryptionscheme": {"displayText":"encryptionScheme","export":true,"for_":["KeySystemTrackConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"encryptionScheme","type":"dict-member","url":"#dom-keysystemtrackconfiguration-encryptionscheme"},
"#dom-keysystemtrackconfiguration-robustness": {"displayText":"robustness","export":true,"for_":["KeySystemTrackConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"robustness","type":"dict-member","url":"#dom-keysystemtrackconfiguration-robustness"},
"#dom-mediacapabilities-decodinginfo": {"displayText":"decodingInfo(configuration)","export":true,"for_":["MediaCapabilities"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"decodingInfo(configuration)","type":"method","url":"#dom-mediacapabilities-decodinginfo"},
"#dom-mediacapabilities-encodinginfo": {"displayText":"encodingInfo(configuration)","export":true,"for_":["MediaCapabilities"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"encodingInfo(configuration)","type":"method","url":"#dom-mediacapabilities-encodinginfo"},
"#dom-mediacapabilitiesdecodinginfo-configuration": {"displayText":"configuration","export":true,"for_":["MediaCapabilitiesDecodingInfo"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"configuration","type":"dict-member","url":"#dom-mediacapabilitiesdecodinginfo-configuration"},
"#dom-mediacapabilitiesdecodinginfo-keysystemaccess": {"displayText":"keySystemAccess","export":true,"for_":["MediaCapabilitiesDecodingInfo"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"keySystemAccess","type":"dict-member","url":"#dom-mediacapabilitiesdecodinginfo-keysystemaccess"},
"#dom-mediacapabilitiesencodinginfo-configuration": {"displayText":"configuration","export":true,"for_":["MediaCapabilitiesEncodingInfo"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"configuration","type":"dict-member","url":"#dom-mediacapabilitiesencodinginfo-configuration"},
"#dom-mediacapabilitiesinfo-powerefficient": {"displayText":"powerEfficient","export":true,"for_":["MediaCapabilitiesInfo"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"powerEfficient","type":"dict-member","url":"#dom-mediacapabilitiesinfo-powerefficient"},
"#dom-mediacapabilitiesinfo-smooth": {"displayText":"smooth","export":true,"for_":["MediaCapabilitiesInfo"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"smooth","type":"dict-member","url":"#dom-mediacapabilitiesinfo-smooth"},
"#dom-mediacapabilitiesinfo-supported": {"displayText":"supported","export":true,"for_":["MediaCapabilitiesInfo"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"supported","type":"dict-member","url":"#dom-mediacapabilitiesinfo-supported"},
"#dom-mediacapabilitieskeysystemconfiguration-audio": {"displayText":"audio","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"audio","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-audio"},
"#dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier": {"displayText":"distinctiveIdentifier","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"distinctiveIdentifier","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-distinctiveidentifier"},
"#dom-mediacapabilitieskeysystemconfiguration-initdatatype": {"displayText":"initDataType","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"initDataType","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-initdatatype"},
"#dom-mediacapabilitieskeysystemconfiguration-keysystem": {"displayText":"keySystem","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"keySystem","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-keysystem"},
"#dom-mediacapabilitieskeysystemconfiguration-persistentstate": {"displayText":"persistentState","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"persistentState","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-persistentstate"},
"#dom-mediacapabilitieskeysystemconfiguration-sessiontypes": {"displayText":"sessionTypes","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"sessionTypes","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-sessiontypes"},
"#dom-mediacapabilitieskeysystemconfiguration-video": {"displayText":"video","export":true,"for_":["MediaCapabilitiesKeySystemConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"video","type":"dict-member","url":"#dom-mediacapabilitieskeysystemconfiguration-video"},
"#dom-mediaconfiguration-audio": {"displayText":"audio","export":true,"for_":["MediaConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"audio","type":"dict-member","url":"#dom-mediaconfiguration-audio"},
"#dom-mediaconfiguration-video": {"displayText":"video","export":true,"for_":["MediaConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"video","type":"dict-member","url":"#dom-mediaconfiguration-video"},
"#dom-mediadecodingconfiguration-keysystemconfiguration": {"displayText":"keySystemConfiguration","export":true,"for_":["MediaDecodingConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"keySystemConfiguration","type":"dict-member","url":"#dom-mediadecodingconfiguration-keysystemconfiguration"},
"#dom-mediadecodingconfiguration-type": {"displayText":"type","export":true,"for_":["MediaDecodingConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"type","type":"dict-member","url":"#dom-mediadecodingconfiguration-type"},
"#dom-mediadecodingtype-file": {"displayText":"file","export":true,"for_":["MediaDecodingType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"file","type":"enum-value","url":"#dom-mediadecodingtype-file"},
"#dom-mediadecodingtype-media-source": {"displayText":"media-source","export":true,"for_":["MediaDecodingType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"media-source","type":"enum-value","url":"#dom-mediadecodingtype-media-source"},
"#dom-mediadecodingtype-webrtc": {"displayText":"\"webrtc\"","export":true,"for_":["MediaDecodingType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"webrtc\"","type":"enum-value","url":"#dom-mediadecodingtype-webrtc"},
"#dom-mediaencodingconfiguration-type": {"displayText":"type","export":true,"for_":["MediaEncodingConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"type","type":"dict-member","url":"#dom-mediaencodingconfiguration-type"},
"#dom-mediaencodingtype-record": {"displayText":"\"record\"","export":true,"for_":["MediaEncodingType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"record\"","type":"enum-value","url":"#dom-mediaencodingtype-record"},
"#dom-mediaencodingtype-webrtc": {"displayText":"\"webrtc\"","export":true,"for_":["MediaEncodingType"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"webrtc\"","type":"enum-value","url":"#dom-mediaencodingtype-webrtc"},
"#dom-transferfunction-hlg": {"displayText":"\"hlg\"","export":true,"for_":["TransferFunction"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"hlg\"","type":"enum-value","url":"#dom-transferfunction-hlg"},
"#dom-transferfunction-pq": {"displayText":"\"pq\"","export":true,"for_":["TransferFunction"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"pq\"","type":"enum-value","url":"#dom-transferfunction-pq"},
"#dom-transferfunction-srgb": {"displayText":"\"srgb\"","export":true,"for_":["TransferFunction"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"\"srgb\"","type":"enum-value","url":"#dom-transferfunction-srgb"},
"#dom-videoconfiguration-bitrate": {"displayText":"bitrate","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"bitrate","type":"dict-member","url":"#dom-videoconfiguration-bitrate"},
"#dom-videoconfiguration-colorgamut": {"displayText":"colorGamut","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"colorGamut","type":"dict-member","url":"#dom-videoconfiguration-colorgamut"},
"#dom-videoconfiguration-contenttype": {"displayText":"contentType","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"contentType","type":"dict-member","url":"#dom-videoconfiguration-contenttype"},
"#dom-videoconfiguration-framerate": {"displayText":"framerate","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"framerate","type":"dict-member","url":"#dom-videoconfiguration-framerate"},
"#dom-videoconfiguration-hasalphachannel": {"displayText":"hasAlphaChannel","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"hasAlphaChannel","type":"dict-member","url":"#dom-videoconfiguration-hasalphachannel"},
"#dom-videoconfiguration-hdrmetadatatype": {"displayText":"hdrMetadataType","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"hdrMetadataType","type":"dict-member","url":"#dom-videoconfiguration-hdrmetadatatype"},
"#dom-videoconfiguration-height": {"displayText":"height","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"height","type":"dict-member","url":"#dom-videoconfiguration-height"},
"#dom-videoconfiguration-scalabilitymode": {"displayText":"scalabilityMode","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"scalabilityMode","type":"dict-member","url":"#dom-videoconfiguration-scalabilitymode"},
"#dom-videoconfiguration-spatialscalability": {"displayText":"spatialScalability","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"spatialScalability","type":"dict-member","url":"#dom-videoconfiguration-spatialscalability"},
"#dom-videoconfiguration-transferfunction": {"displayText":"transferFunction","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"transferFunction","type":"dict-member","url":"#dom-videoconfiguration-transferfunction"},
"#dom-videoconfiguration-width": {"displayText":"width","export":true,"for_":["VideoConfiguration"],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"width","type":"dict-member","url":"#dom-videoconfiguration-width"},
"#enumdef-colorgamut": {"displayText":"ColorGamut","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"ColorGamut","type":"enum","url":"#enumdef-colorgamut"},
"#enumdef-hdrmetadatatype": {"displayText":"HdrMetadataType","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"HdrMetadataType","type":"enum","url":"#enumdef-hdrmetadatatype"},
"#enumdef-mediadecodingtype": {"displayText":"MediaDecodingType","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaDecodingType","type":"enum","url":"#enumdef-mediadecodingtype"},
"#enumdef-mediaencodingtype": {"displayText":"MediaEncodingType","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaEncodingType","type":"enum","url":"#enumdef-mediaencodingtype"},
"#enumdef-transferfunction": {"displayText":"TransferFunction","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"TransferFunction","type":"enum","url":"#enumdef-transferfunction"},
"#media-capabilities-task-source": {"displayText":"media capabilities task source","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"media capabilities task source","type":"dfn","url":"#media-capabilities-task-source"},
"#mediacapabilities": {"displayText":"MediaCapabilities","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"MediaCapabilities","type":"interface","url":"#mediacapabilities"},
"#power-efficient": {"displayText":"power efficient","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"power efficient","type":"dfn","url":"#power-efficient"},
"#queue-a-media-capabilities-task": {"displayText":"queue a media capabilities task","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"queue a media capabilities task","type":"dfn","url":"#queue-a-media-capabilities-task"},
"#valid-audio-configuration": {"displayText":"valid audio configuration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"valid audio configuration","type":"dfn","url":"#valid-audio-configuration"},
"#valid-mediaconfiguration": {"displayText":"valid mediaconfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"valid mediaconfiguration","type":"dfn","url":"#valid-mediaconfiguration"},
"#valid-mediadecodingconfiguration": {"displayText":"valid mediadecodingconfiguration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"valid mediadecodingconfiguration","type":"dfn","url":"#valid-mediadecodingconfiguration"},
"#valid-video-configuration": {"displayText":"valid video configuration","export":true,"for_":[],"level":"","normative":true,"shortname":"media-capabilities","spec":"media-capabilities","status":"local","text":"valid video configuration","type":"dfn","url":"#valid-video-configuration"},
"https://dom.spec.whatwg.org/#document": {"displayText":"Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Document","type":"interface","url":"https://dom.spec.whatwg.org/#document"},
"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin": {"displayText":"origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/system-state.html#navigator": {"displayText":"Navigator","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Navigator","type":"interface","url":"https://html.spec.whatwg.org/multipage/system-state.html#navigator"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global": {"displayText":"global object","export":true,"for_":["realm"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#global-object": {"displayText":"global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#global-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context": {"displayText":"non-secure context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"non-secure context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#non-secure-context"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": {"displayText":"queue a global task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a global task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": {"displayText":"relevant settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-source": {"displayText":"task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope": {"displayText":"WorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#workernavigator": {"displayText":"WorkerNavigator","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerNavigator","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#workernavigator"},
"https://infra.spec.whatwg.org/#map-exists": {"displayText":"exist","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"exist","type":"dfn","url":"https://infra.spec.whatwg.org/#map-exists"},
"https://mimesniff.spec.whatwg.org/#mime-type": {"displayText":"MIME type","export":true,"for_":[],"level":"1","normative":true,"shortname":"mimesniff","spec":"mimesniff","status":"current","text":"mime type","type":"dfn","url":"https://mimesniff.spec.whatwg.org/#mime-type"},
"https://mimesniff.spec.whatwg.org/#parse-a-mime-type": {"displayText":"parse a MIME type","export":true,"for_":[],"level":"1","normative":true,"shortname":"mimesniff","spec":"mimesniff","status":"current","text":"parse a mime type","type":"dfn","url":"https://mimesniff.spec.whatwg.org/#parse-a-mime-type"},
"https://mimesniff.spec.whatwg.org/#supported-by-the-user-agent": {"displayText":"supported by the user agent","export":true,"for_":[],"level":"1","normative":true,"shortname":"mimesniff","spec":"mimesniff","status":"current","text":"supported by the user agent","type":"dfn","url":"https://mimesniff.spec.whatwg.org/#supported-by-the-user-agent"},
"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#current-realm": {"displayText":"the current Realm Record","export":true,"for_":["ECMAScript"],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"the current realm record","type":"dfn","url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#current-realm"},
"https://w3c.github.io/encrypted-media/#dfn-get-supported-configuration": {"displayText":"Get Supported Configuration","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"get supported configuration","type":"dfn","url":"https://w3c.github.io/encrypted-media/#dfn-get-supported-configuration"},
"https://w3c.github.io/encrypted-media/#dfn-key-system": {"displayText":"Key System","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"key system","type":"dfn","url":"https://w3c.github.io/encrypted-media/#dfn-key-system"},
"https://w3c.github.io/encrypted-media/#dom-mediakeys": {"displayText":"MediaKeys","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"MediaKeys","type":"interface","url":"https://w3c.github.io/encrypted-media/#dom-mediakeys"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement": {"displayText":"MediaKeysRequirement","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"MediaKeysRequirement","type":"enum","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysrequirement"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess": {"displayText":"MediaKeySystemAccess","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"MediaKeySystemAccess","type":"interface","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess-keysystem": {"displayText":"keySystem","export":true,"for_":["MediaKeySystemAccess"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"keySystem","type":"attribute","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemaccess-keysystem"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration": {"displayText":"MediaKeySystemConfiguration","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"MediaKeySystemConfiguration","type":"dictionary","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-audiocapabilities": {"displayText":"audioCapabilities","export":true,"for_":["MediaKeySystemConfiguration"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"audioCapabilities","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-audiocapabilities"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-distinctiveidentifier": {"displayText":"distinctiveIdentifier","export":true,"for_":["MediaKeySystemConfiguration"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"distinctiveIdentifier","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-distinctiveidentifier"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-initdatatypes": {"displayText":"initDataTypes","export":true,"for_":["MediaKeySystemConfiguration"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"initDataTypes","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-initdatatypes"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-persistentstate": {"displayText":"persistentState","export":true,"for_":["MediaKeySystemConfiguration"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"persistentState","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-persistentstate"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-sessiontypes": {"displayText":"sessionTypes","export":true,"for_":["MediaKeySystemConfiguration"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"sessionTypes","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemconfiguration-sessiontypes"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability": {"displayText":"MediaKeySystemMediaCapability","export":true,"for_":[],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"MediaKeySystemMediaCapability","type":"dictionary","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-contenttype": {"displayText":"contentType","export":true,"for_":["MediaKeySystemMediaCapability"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"contentType","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-contenttype"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-encryptionscheme": {"displayText":"encryptionScheme","export":true,"for_":["MediaKeySystemMediaCapability"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"encryptionScheme","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-encryptionscheme"},
"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-robustness": {"displayText":"robustness","export":true,"for_":["MediaKeySystemMediaCapability"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"robustness","type":"dict-member","url":"https://w3c.github.io/encrypted-media/#dom-mediakeysystemmediacapability-robustness"},
"https://w3c.github.io/encrypted-media/#dom-navigator-requestmediakeysystemaccess": {"displayText":"requestMediaKeySystemAccess()","export":true,"for_":["Navigator"],"level":"2","normative":true,"shortname":"encrypted-media","spec":"encrypted-media-2","status":"current","text":"requestMediaKeySystemAccess()","type":"method","url":"https://w3c.github.io/encrypted-media/#dom-navigator-requestmediakeysystemaccess"},
"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection": {"displayText":"RTCPeerConnection","export":true,"for_":[],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"RTCPeerConnection","type":"interface","url":"https://w3c.github.io/webrtc-pc/#dom-rtcpeerconnection"},
"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters": {"displayText":"setParameters()","export":true,"for_":["RTCRtpSender"],"level":"1","normative":true,"shortname":"webrtc","spec":"webrtc","status":"current","text":"setParameters()","type":"method","url":"https://w3c.github.io/webrtc-pc/#dom-rtcrtpsender-setparameters"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#NewObject": {"displayText":"NewObject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NewObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#NewObject"},
"https://webidl.spec.whatwg.org/#SameObject": {"displayText":"SameObject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SameObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SameObject"},
"https://webidl.spec.whatwg.org/#exceptiondef-typeerror": {"displayText":"TypeError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"TypeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"displayText":"DOMException","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"boolean","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"https://webidl.spec.whatwg.org/#idl-double": {"displayText":"double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-double"},
"https://webidl.spec.whatwg.org/#idl-promise": {"displayText":"Promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"displayText":"sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long": {"displayText":"unsigned long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long-long": {"displayText":"unsigned long long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long-long"},
"https://webidl.spec.whatwg.org/#invalidstateerror": {"displayText":"InvalidStateError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidStateError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"https://webidl.spec.whatwg.org/#securityerror": {"displayText":"SecurityError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SecurityError","type":"exception","url":"https://webidl.spec.whatwg.org/#securityerror"},
"https://www.w3.org/TR/media-source/#mediasource": {"displayText":"MediaSource","export":true,"for_":["MediaSource"],"level":"","normative":true,"shortname":"media-source","spec":"media-source","status":"anchor-block","text":"MediaSource","type":"interface","url":"https://www.w3.org/TR/media-source/#mediasource"},
"https://www.w3.org/TR/mediastream-recording/#mediarecorder": {"displayText":"MediaRecorder","export":true,"for_":[],"level":"","normative":true,"shortname":"mediastream-recording","spec":"mediastream-recording","status":"anchor-block","text":"MediaRecorder","type":"interface","url":"https://www.w3.org/TR/mediastream-recording/#mediarecorder"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>